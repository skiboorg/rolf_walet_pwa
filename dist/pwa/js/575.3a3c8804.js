"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[575],{25575:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Vl});var t=a(59835),s=a(60499),n=a(86970),o=a(91569),r=a(18910),i=a(23459),u=a(98030),d=a(31655),p=a(87270),c=a(17779);const _=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),m={key:0,class:"text-bold text-center text-primary"},w={key:1},f={key:2},g={key:0},U={key:0,class:"q-mb-md"},b=(0,t._)("p",{class:"text-white caption text-justify"},[(0,t.Uk)("Нажмите эту кпопку при возникновении спорной ситуации. "),(0,t._)("span",{class:"text-bold"},"После нажатия, все действия со сделкой блокируются")],-1),x={key:1},v=(0,t.Uk)("Сделка "),y={class:"text-bold"},h=(0,t.Uk)(" по офферу "),k={class:"text-bold"},S=(0,t.Uk)("  "),z={key:0},D={key:1},q={class:"text-bold"},W=(0,t.Uk)(" по курсу "),C={class:"text-bold"},$=(0,t.Uk)(" на сумму "),H={class:"text-bold"},Q=(0,t._)("br",null,null,-1),V=(0,t._)("br",null,null,-1),Z=(0,t.Uk)(" Платежная система: "),A={class:"text-bold"},F=(0,t.Uk)(", реквизиты: "),I={class:"text-bold"},T=(0,t._)("br",null,null,-1),j=(0,t._)("br",null,null,-1),K=(0,t._)("br",null,null,-1),P={key:2},J=["href"],N=(0,t._)("br",null,null,-1),L={key:3},M=["href"],O=(0,t._)("br",null,null,-1),B={key:0},E={key:0},G={key:1},R={key:0},X=(0,t.Uk)("После нажатия на кнопку согласия, с вашего адреса на адрес гаранта будет снята сумма "),Y={class:"text-bold"},ee=(0,t.Uk)('. В случае возникновения спорных ситуаций в ходе проведения сделки, нажмите на кнопку "Нужна помощь"'),le={key:2},ae=["href"],te={class:"text-bold"},se={key:0},ne=(0,t._)("p",{class:"text-caption"},"Добавьте любое подтверждение факта оплаты",-1),oe={key:3},re={key:0},ie=["href"],ue={key:4},de=["href"],pe={class:"text-bold"},ce={key:1},_e=(0,t._)("p",{class:"text-negative text-center items-center"},"Ожидайте подкючения администратора. Сообщения в чате выделены красным цветом",-1),me=(0,t.Uk)("Сделка "),we={class:"text-bold"},fe=(0,t.Uk)(" по офферу "),ge={class:"text-bold"},Ue=(0,t.Uk)("  "),be={key:0},xe={key:1},ve={class:"text-bold"},ye=(0,t.Uk)(" по курсу "),he={class:"text-bold"},ke=(0,t.Uk)(" на сумму "),Se={class:"text-bold"},ze=(0,t._)("br",null,null,-1),De=(0,t._)("br",null,null,-1),qe=(0,t.Uk)(" Платежная система: "),We={class:"text-bold"},Ce=(0,t.Uk)(", реквизиты: "),$e={class:"text-bold"},He=(0,t._)("br",null,null,-1),Qe=(0,t._)("br",null,null,-1),Ve=(0,t._)("br",null,null,-1),Ze={key:2},Ae=["href"],Fe=(0,t._)("br",null,null,-1),Ie={key:3},Te=["href"],je=(0,t._)("br",null,null,-1),Ke={key:2},Pe=(0,t._)("br",null,null,-1),Je=(0,t._)("br",null,null,-1),Ne=(0,t._)("br",null,null,-1),Le=(0,t._)("br",null,null,-1),Me=(0,t._)("br",null,null,-1),Oe=(0,t._)("br",null,null,-1),Be=(0,t._)("br",null,null,-1),Ee=(0,t.Uk)(" Создатель оффера: "),Ge=["href"],Re=(0,t._)("br",null,null,-1),Xe=(0,t.Uk)(),Ye=(0,t._)("br",null,null,-1),el=(0,t.Uk)(" Создатель сделки: "),ll=["href"],al=(0,t._)("br",null,null,-1),tl={key:0},sl=["href"],nl={class:"text-bold"},ol={key:1},rl=["href"],il={class:"text-bold"},ul={key:2},dl=["href"],pl={key:3},cl=["href"],_l={class:"text-bold"},ml={class:"full-height"},wl=(0,t._)("br",null,null,-1),fl={key:0},gl=["href"],Ul={class:"flex items-center"},bl={__name:"Trade",setup(e){const l=(0,r.yj)(),bl=(0,r.tv)(),{EraChain:xl}=a(99407),vl=(0,i.Q)(),yl=(0,d.T)(),hl=(0,s.iH)(null),kl=(0,s.iH)(null),Sl=(0,s.iH)(null),zl=(0,s.iH)(null),Dl=(0,s.iH)(null),ql=(0,s.iH)(null),Wl=(0,s.iH)(null),Cl=(0,s.iH)(!1),$l=(0,s.iH)(!1),Hl=(0,s.iH)([]),Ql=((0,s.iH)(0),(0,s.iH)(3e5)),Vl="7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",Zl=(0,t.Fl)((()=>yl.user)),Al=(0,t.Fl)((()=>yl.trade)),Fl=(0,t.Fl)((()=>Al.value.offer.is_sell?Al.value.offer.user.wallet===Zl.value.wallet:Al.value.opponent.wallet===Zl.value.wallet));async function Il(e){let l=null;"money_receive"===e&&(l=Al.value.offer.user.wallet!==Zl.value.wallet?Al.value.offer.user.wallet:Al.value.opponent.wallet),c.log(Dl.value),Cl.value=!Cl.value;let a=new FormData;a.set("action",e),Dl.value&&a.set("file",Dl.value),a.set("wallet",l),a.set("uid",Al.value.UID),c.log(a);const t=await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/trade_action",data:a});t.data.success?(0,p.d)("positive",t.data.message):(0,p.d)("negative",t.data.message),Cl.value=!Cl.value,"delete"===e&&bl.push({name:"p2p_index"})}async function Tl(){hl.value=new WebSocket(`wss://xn--k1affs.xn--p1ai/ws/trade_chat/${Al.value.UID}`);const e=await o.h.get(`/api/p2p/get_trade_chat?trade_uid=${Al.value.UID}`);c.log(e.data),Hl.value=e.data.messages,hl.value.onmessage=async e=>{let l=JSON.parse(e.data)["message"];c.log("DATA",l.user.wallet);let a={id:l.id,message:l.message,file:l.file?l.file:null,createdAt:l.createdAt,user:{wallet:l.user.wallet,is_p2p_admin:l.user.is_p2p_admin,fio:l.user.fio}};Hl.value.push(a),Kl()}}async function jl(e){13===e.keyCode&&zl.value&&await Jl()}function Kl(){$l.value&&(Wl.value.setScrollPosition("vertical",Ql.value,300),Ql.value=20*Math.floor(300))}function Pl(){Kl()}async function Jl(){Cl.value=!Cl.value;let e=new FormData;e.set("message",JSON.stringify(zl.value)),e.set("file",ql.value),e.set("wallet",Zl.value.wallet),e.set("trade_uid",Al.value.UID),c.log(e);await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/add_message_in_trade_chat",data:e});zl.value=null,ql.value=null,Cl.value=!Cl.value}async function Nl(){Cl.value=!Cl.value;const e=!0,l=await vl.getKeyPair(),a=new xl.Type.KeyPair(l),t={assetKey:Al.value.offer.asset.key,amount:Al.value.asset_amount};c.log(a),c.log(t);const s=await u.era.tranRawSendAsset(a,t,Vl,"Заморозка баланса",`Сделка ${Al.value.id} по офферу ${Al.value.offer.id}`,!1,e);c.log(s),s.error?(0,p.d)("negative",s.error.message):(kl.value=s.fee,Sl.value=s.raw,await Ll()),Cl.value=!Cl.value}async function Ll(){const e=await u.era.broadcast64(Sl.value);if(c.log(e),e.error)(0,p.d)("negative",e.message);else{(0,p.d)("positive","Баланс заморожен");await o.h.post("/api/p2p/trade_action",{action:"freeze_money",uid:Al.value.UID,tx:e.signature,wallet:Zl.value.wallet})}}return(0,t.wF)((async()=>{yl.current_trade_uid=l.params.uid,await yl.get_user(),c.log("wallet",Zl.value),await yl.get_trade(),await Tl(),Al.value.status.is_need_help&&($l.value=!0)})),(0,t.Jd)((async()=>{hl.value?hl.value.close():c.log("not connect")})),(e,l)=>{const a=(0,t.up)("page-header"),o=(0,t.up)("q-btn"),r=(0,t.up)("q-card-section"),i=(0,t.up)("q-card"),u=(0,t.up)("q-separator"),d=(0,t.up)("q-icon"),p=(0,t.up)("q-file"),c=(0,t.up)("q-chat-message"),bl=(0,t.up)("q-scroll-area"),xl=(0,t.up)("q-input"),vl=(0,t.up)("q-dialog"),yl=(0,t.up)("page-body"),hl=(0,t.up)("page"),kl=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(hl,null,{default:(0,t.w5)((()=>[(0,t.Wm)(yl,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{route_name:"p2p_index"}),_,(0,s.SU)(Al).can_delete?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",m," Отменить сделку можно "+(0,n.zw)(new Date((0,s.SU)(Al).can_delete_time).toLocaleString()),1)),(0,s.SU)(Al).status.is_default&&(0,s.SU)(Al).can_delete?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(o,{rounded:"",class:"full-width q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:l[0]||(l[0]=e=>Il("delete")),label:"Отменить сделку"})])):(0,t.kq)("",!0),(0,t.Wm)(i,{flat:"",class:(0,n.C_)(["text-bold text-center q-mb-md text-white",`bg-${(0,s.SU)(Al).status.color}`])},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("span",null,"Статус сделки: "+(0,n.zw)((0,s.SU)(Al).status.label)+" ",1)])),_:1})])),_:1},8,["class"]),(0,s.SU)(Al).status.is_declined?((0,t.wg)(),(0,t.iD)("div",pl,[(0,s.SU)(Al).tx_send?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Al).tx_return}&lang=en`,target:"_blank"},[(0,t._)("span",_l,"Транзакция возврата "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1)],8,cl)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",f,[(0,s.SU)(Al).status.is_need_help?((0,t.wg)(),(0,t.iD)("div",ce,[_e,(0,t._)("p",null,[me,(0,t._)("span",we,"#"+(0,n.zw)((0,s.SU)(Al).id),1),fe,(0,t._)("span",ge,"#"+(0,n.zw)((0,s.SU)(Al).offer.id),1),Ue,(0,s.SU)(Al).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",be,(0,n.zw)((0,s.SU)(Al).opponent.wallet===(0,s.SU)(Zl).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",xe,(0,n.zw)((0,s.SU)(Al).opponent.wallet===(0,s.SU)(Zl).wallet?"продажа":"покупка"),1)),(0,t._)("span",ve," "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1),ye,(0,t._)("span",he,(0,n.zw)((0,s.SU)(Al).offer.course)+" руб",1),ke,(0,t._)("span",Se,(0,n.zw)((0,s.SU)(Al).fiat_amount)+" руб",1),ze,De,qe,(0,t._)("span",We,(0,n.zw)((0,s.SU)(Al).payment_type.label),1),Ce,(0,t._)("span",$e,(0,n.zw)((0,s.SU)(Al).payment_type.payment_info),1),He,Qe,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Fl)?"Покупатель":"Продавец"),1),Ve,(0,s.SU)(Al).offer.user.wallet!==(0,s.SU)(Zl).wallet?((0,t.wg)(),(0,t.iD)("span",Ze,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).offer.user.fio),9,Ae),Fe,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Al).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",Ie,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).opponent.fio),9,Te),je,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Al).opponent.total_trades),1)]))])])):((0,t.wg)(),(0,t.iD)("div",g,[(0,s.SU)(Al).status.is_default||(0,s.SU)(Al).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(i,{flat:"",class:"bg-red-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[b,(0,t.Wm)(o,{label:"Нужна помощь админа",loading:Cl.value,onClick:l[1]||(l[1]=e=>Il("need_help")),class:"full-width","no-caps":"",unelevated:"",color:"yellow-4","text-color":"dark",rounded:""},null,8,["loading"])])),_:1})])),_:1})])),(0,s.SU)(Al).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("p",null,[v,(0,t._)("span",y,"#"+(0,n.zw)((0,s.SU)(Al).id),1),h,(0,t._)("span",k,"#"+(0,n.zw)((0,s.SU)(Al).offer.id),1),S,(0,s.SU)(Al).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",z,(0,n.zw)((0,s.SU)(Al).opponent.wallet===(0,s.SU)(Zl).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",D,(0,n.zw)((0,s.SU)(Al).opponent.wallet===(0,s.SU)(Zl).wallet?"продажа":"покупка"),1)),(0,t._)("span",q," "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1),W,(0,t._)("span",C,(0,n.zw)((0,s.SU)(Al).offer.course)+" руб",1),$,(0,t._)("span",H,(0,n.zw)((0,s.SU)(Al).fiat_amount)+" руб",1),Q,V,Z,(0,t._)("span",A,(0,n.zw)((0,s.SU)(Al).payment_type.label),1),F,(0,t._)("span",I,(0,n.zw)((0,s.SU)(Al).payment_type.payment_info),1),T,j,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Fl)?"Покупатель":"Продавец"),1),K,(0,s.SU)(Al).offer.user.wallet!==(0,s.SU)(Zl).wallet?((0,t.wg)(),(0,t.iD)("span",P,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).offer.user.fio),9,J),N,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Al).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",L,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).opponent.fio),9,M),O,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Al).opponent.total_trades),1)]))]),(0,t.Wm)(u,{spaced:"lg"}),(0,s.SU)(Al).status.is_default?((0,t.wg)(),(0,t.iD)("div",B,[(0,s.SU)(Al).offer.user.wallet===(0,s.SU)(Zl).wallet?((0,t.wg)(),(0,t.iD)("div",E,[(0,t.Wm)(o,{loading:Cl.value,label:"Согласен на сделку",rounded:"",color:"positive",class:"full-width q-py-md",onClick:l[2]||(l[2]=e=>Il("trade_accept")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Al).status.is_active?((0,t.wg)(),(0,t.iD)("div",G,[(0,s.SU)(Fl)?((0,t.wg)(),(0,t.iD)("div",R,[(0,t._)("p",null,[X,(0,t._)("span",Y,(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1),ee]),(0,t.Wm)(o,{loading:Cl.value,label:`Заморозить ${(0,s.SU)(Al).asset_amount} ${(0,s.SU)(Al).offer.asset.name}`,rounded:"",color:"positive",class:"full-width q-py-md",onClick:Nl,unelevated:"","no-caps":""},null,8,["loading","label"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Al).status.is_money_freeze?((0,t.wg)(),(0,t.iD)("div",le,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Al).tx}&lang=en`,target:"_blank"},[(0,t._)("span",te,"Транзакция заморозки "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1)],8,ae)]),(0,s.SU)(Fl)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",se,[ne,(0,t.Wm)(p,{dense:"",outlined:"",rounded:"",label:"Подверждение оплаты",modelValue:Dl.value,"onUpdate:modelValue":l[3]||(l[3]=e=>Dl.value=e),class:"q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{loading:Cl.value,disable:!Dl.value,label:"Оплату произвел",rounded:"",color:"positive",class:"full-width q-py-md",onClick:l[4]||(l[4]=e=>Il("money_send")),unelevated:"","no-caps":""},null,8,["loading","disable"])]))])):(0,t.kq)("",!0),(0,s.SU)(Al).status.is_money_sent?((0,t.wg)(),(0,t.iD)("div",oe,[(0,s.SU)(Fl)?((0,t.wg)(),(0,t.iD)("div",re,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Al).send_img,target:"_blank"},"Подтверждение оплаты",8,ie)]),(0,t.Wm)(o,{loading:Cl.value,label:"Оплату получил",rounded:"",color:"positive",class:"full-width q-py-md",onClick:l[5]||(l[5]=e=>Il("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Al).status.is_money_recieve?((0,t.wg)(),(0,t.iD)("div",ue,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Al).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",pe,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1)],8,de)])])):(0,t.kq)("",!0)]))])),(0,s.SU)(Zl).is_p2p_admin?((0,t.wg)(),(0,t.iD)("div",Ke,[(0,t._)("p",null,[(0,t.Uk)(" Cделка № "+(0,n.zw)((0,s.SU)(Al).id),1),Pe,(0,t.Uk)(" Оффер № "+(0,n.zw)((0,s.SU)(Al).offer.id),1),Je,(0,t.Uk)(" Сумма сделки в рублях: "+(0,n.zw)((0,s.SU)(Al).fiat_amount),1),Ne,(0,t.Uk)(" Сумма сделки в активе: "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1),Le,Me,(0,t.Uk)(" Тип оффера: "+(0,n.zw)((0,s.SU)(Al).offer.is_sell?"продажа":"покупка"),1),Oe,Be,Ee,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).offer.user.wallet),9,Ge),Re,Xe,Ye,el,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Al).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Al).opponent.wallet),9,ll),al]),(0,s.SU)(Al).tx?((0,t.wg)(),(0,t.iD)("p",tl,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Al).tx}&lang=en`,target:"_blank"},[(0,t._)("span",nl,"Транзакция заморозки "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1)],8,sl)])):(0,t.kq)("",!0),(0,s.SU)(Al).tx_send?((0,t.wg)(),(0,t.iD)("p",ol,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Al).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",il,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Al).asset_amount)+" "+(0,n.zw)((0,s.SU)(Al).offer.asset.name),1)],8,rl)])):(0,t.kq)("",!0),(0,s.SU)(Al).send_img?((0,t.wg)(),(0,t.iD)("p",ul,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Al).send_img,target:"_blank"},"Подтверждение оплаты",8,dl)])):(0,t.kq)("",!0),(0,t.Wm)(o,{loading:Cl.value,label:"Отмена сделки с возвратом замороженного баланса",rounded:"",color:"positive",class:"full-width q-py-md",onClick:l[6]||(l[6]=e=>Il("admin_stop")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])),(0,t.Wm)(vl,{modelValue:$l.value,"onUpdate:modelValue":l[10]||(l[10]=e=>$l.value=e),seamless:"",position:"bottom",onShow:Pl},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"full-width"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"q-pt-xl"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{class:"absolute-top-right z-max",flat:"",round:"",icon:"close"},null,512),[[kl]]),(0,t._)("div",ml,[(0,t.Wm)(bl,{ref_key:"messages_wrapper",ref:Wl,style:{height:"300px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Hl.value,(e=>((0,t.wg)(),(0,t.j4)(c,{key:e.id,stamp:new Date(e.createdAt).toLocaleString(),name:e.user.fio,text:[e.message],sent:e.user.wallet===(0,s.SU)(Zl).wallet,"bg-color":e.user.is_p2p_admin?"red-7":e.user.wallet===(0,s.SU)(Zl).wallet?"green-3":"grey-3","text-color":e.user.is_p2p_admin?"white":""},{name:(0,t.w5)((()=>[(0,t._)("span",{class:(0,n.C_)(e.user.is_p2p_admin?"text-red-7":"")},(0,n.zw)(e.user.fio),3),wl,e.file?((0,t.wg)(),(0,t.iD)("span",fl,[(0,t._)("a",{class:"file_link",target:"_blank",href:e.file},"Прикрепленный файл",8,gl)])):(0,t.kq)("",!0)])),_:2},1032,["stamp","name","text","sent","bg-color","text-color"])))),128))])),_:1},512),(0,t._)("div",Ul,[(0,t.Wm)(d,{size:"24px",class:"cursor-pointer q-mr-lg",color:ql.value?"positive":"grey-6",name:"attach_file"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{position:"absolute",width:"42px",opacity:"0"},modelValue:ql.value,"onUpdate:modelValue":l[7]||(l[7]=e=>ql.value=e)},null,8,["modelValue"])])),_:1},8,["color"]),(0,t.Wm)(xl,{outlined:"",rounded:"",class:"col-grow",loading:Cl.value,disable:Cl.value,onKeydown:jl,modelValue:zl.value,"onUpdate:modelValue":l[9]||(l[9]=e=>zl.value=e),label:"Ваше сообщение"},{append:(0,t.w5)((()=>[(0,t.Wm)(o,{round:"",dense:"",disable:!zl.value,loading:Cl.value,onClick:l[8]||(l[8]=e=>Jl()),flat:"",icon:"send"},null,8,["disable","loading"])])),_:1},8,["loading","disable","modelValue"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{class:"absolute-bottom-right",flat:"",size:"24px",round:"",icon:"las la-comments",onClick:l[11]||(l[11]=e=>$l.value=!0)},{default:(0,t.w5)((()=>[Hl.value.length>0?((0,t.wg)(),(0,t.j4)(d,{key:0,class:"absolute-top-right",size:"16px",color:"red",name:"priority_high"})):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1})}}};var xl=a(24455),vl=a(44458),yl=a(63190),hl=a(50926),kl=a(33837),Sl=a(22857),zl=a(32074),Dl=a(66663),ql=a(396),Wl=a(13119),Cl=a(62146),$l=a(69984),Hl=a.n($l);const Ql=bl,Vl=Ql;Hl()(bl,"components",{QBtn:xl.Z,QCard:vl.Z,QCardSection:yl.Z,QSeparator:hl.Z,QFile:kl.Z,QIcon:Sl.Z,QDialog:zl.Z,QScrollArea:Dl.Z,QChatMessage:ql.Z,QInput:Wl.Z}),Hl()(bl,"directives",{ClosePopup:Cl.Z})}}]);