"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[892],{74892:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Z});var t=a(59835),u=a(60499),n=a(86970),d=a(87270),o=a(31655),s=a(91569);const i=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),p={key:0,class:"text-negative text-bold text-center"},m={key:1,class:"text-primary text-bold text-center"},c={key:1},r={__name:"User",setup(e){const l=(0,o.T)(),a=(0,u.iH)(!1),r=(0,u.iH)(null),v=(0,u.iH)(null),w=(0,u.iH)(null),_=(0,t.Fl)((()=>l.user)),b=(0,t.Fl)((()=>l.payment_methods));async function g(e){const a=await s.h.post("/api/p2p/delete_payment",{id:e});a.data.success?((0,d.d)("positive",a.data.message),await l.get_user()):(0,d.d)("negative",a.data.message)}async function y(){a.value=!a.value;await s.h.post("/api/p2p/add_payment",{wallet:_.value.wallet,selected_method:r.value,selected_type:v.value,selected_type_requsites:w.value});await l.get_user(),(0,d.d)("positive","Метод платежа добавлен"),a.value=!a.value,v.value=null,r.value=null,w.value=null}return(0,t.wF)((async()=>{await l.get_payment_methods()})),(e,l)=>{const d=(0,t.up)("page-header"),o=(0,t.up)("q-item-label"),s=(0,t.up)("q-item-section"),f=(0,t.up)("q-btn"),h=(0,t.up)("q-item"),k=(0,t.up)("q-select"),q=(0,t.up)("q-input"),W=(0,t.up)("q-card-section"),x=(0,t.up)("q-card"),Q=(0,t.up)("q-expansion-item"),Z=(0,t.up)("q-list"),U=(0,t.up)("page-body"),V=(0,t.up)("page");return(0,t.wg)(),(0,t.j4)(V,null,{default:(0,t.w5)((()=>[(0,t.Wm)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d),i,0===(0,u.SU)(_).payment_types.length?((0,t.wg)(),(0,t.iD)("p",p,"Добавьте платежные реквизиты")):((0,t.wg)(),(0,t.iD)("p",m,"Ваши реквизиты")),(0,t.Wm)(Z,{separator:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,u.SU)(_).payment_types,(e=>((0,t.wg)(),(0,t.j4)(h,{key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,{overline:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.label),1)])),_:2},1024),(0,t.Wm)(o,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.payment_info),1)])),_:2},1024)])),_:2},1024),(0,t.Wm)(s,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{icon:"delete",onClick:l=>g(e.id),round:"",dense:"",color:"negative"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128)),(0,t.Wm)(Q,{label:"Добавить платежные реквизиты"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{outlined:"",rounded:"",options:(0,u.SU)(b),modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),class:"q-mb-md",behavior:"menu",label:"Выберите платежную систему"},null,8,["options","modelValue"]),r.value?((0,t.wg)(),(0,t.j4)(k,{key:0,outlined:"",rounded:"",options:r.value.types,modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=e=>v.value=e),class:"q-mb-md",behavior:"menu",label:"Выберите тип оплаты"},null,8,["options","modelValue"])):(0,t.kq)("",!0),v.value?((0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(q,{outlined:"",rounded:"",modelValue:w.value,"onUpdate:modelValue":l[2]||(l[2]=e=>w.value=e),type:"textarea",label:"Реквизиты",clearable:"",class:"q-mb-md"},null,8,["modelValue"]),(0,t.Wm)(f,{color:"positive",loading:a.value,disable:!w.value,onClick:y,rounded:"","no-caps":"",unelevated:"",class:"full-width",label:"Добавить"},null,8,["loading","disable"])])):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}};var v=a(13246),w=a(490),_=a(76749),b=a(33115),g=a(24455),y=a(61123),f=a(44458),h=a(63190),k=a(18401),q=a(13119),W=a(69984),x=a.n(W);const Q=r,Z=Q;x()(r,"components",{QList:v.Z,QItem:w.Z,QItemSection:_.Z,QItemLabel:b.Z,QBtn:g.Z,QExpansionItem:y.Z,QCard:f.Z,QCardSection:h.Z,QSelect:k.Z,QInput:q.Z})}}]);