"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[575],{25575:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Aa});var t=l(59835),s=l(60499),n=l(86970),o=l(91569),i=l(18910),r=l(23459),u=l(98030),d=l(31655),p=l(87270),c=l(17779);const _=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),m={key:0,class:"text-bold text-center text-primary"},w={key:1},f={key:2},g={key:0},U={key:0,class:"q-mb-md"},x=(0,t._)("p",{class:"text-white caption text-justify"},[(0,t.Uk)("Нажмите эту кпопку при возникновении спорной ситуации. "),(0,t._)("span",{class:"text-bold"},"После нажатия, все действия со сделкой блокируются")],-1),b={key:1},v=(0,t.Uk)("Сделка "),y={class:"text-bold"},h=(0,t.Uk)(" по офферу "),k={class:"text-bold"},S=(0,t.Uk)("  "),z={key:0},q={key:1},D={class:"text-bold"},W=(0,t.Uk)("  по курсу "),C={class:"text-bold"},$=(0,t.Uk)(" на сумму "),H={class:"text-bold"},Q=(0,t._)("br",null,null,-1),V={class:"text-bold text-negative text-uppercase"},Z=(0,t._)("br",null,null,-1),j=(0,t._)("br",null,null,-1),A={key:2},F=["href"],I=(0,t._)("br",null,null,-1),T={key:3},K=["href"],P=(0,t._)("br",null,null,-1),J={key:0},N={key:0},L={key:1},M={key:0},O=(0,t.Uk)("После нажатия на кнопку согласия, с вашего адреса на адрес гаранта будет снята сумма "),B={class:"text-bold"},E=(0,t.Uk)('. В случае возникновения спорных ситуаций в ходе проведения сделки, нажмите на кнопку "Нужна помощь"'),G={key:1},R=(0,t._)("p",{class:"text-bold text-negative text-center text-justify"},"Не переводите оплату до завершения транзакции депонирования!!!",-1),X={key:2},Y=["href"],ee={class:"text-bold"},ae={key:0},le={class:"text-bold"},te=(0,t.Uk)("Оплату нужно совершить по следующим реквизитам:"),se=(0,t._)("br",null,null,-1),ne=(0,t._)("br",null,null,-1),oe=(0,t._)("p",{class:"text-caption text-bold text-negative text-justify"},"Добавьте любое подтверждение факта оплаты в поле ниже и подтвердите получение оплаты",-1),ie={key:3},re={key:0},ue=["href"],de={key:4},pe=["href"],ce={class:"text-bold"},_e={key:1},me=(0,t._)("p",{class:"text-negative text-center items-center"},"Ожидайте подкючения администратора. Сообщения в чате выделены красным цветом",-1),we=(0,t.Uk)("Сделка "),fe={class:"text-bold"},ge=(0,t.Uk)(" по офферу "),Ue={class:"text-bold"},xe=(0,t.Uk)("  "),be={key:0},ve={key:1},ye={class:"text-bold"},he=(0,t.Uk)("  "),ke={class:"text-bold text-negative"},Se=(0,t.Uk)(" по курсу "),ze={class:"text-bold"},qe=(0,t.Uk)(" на сумму "),De={class:"text-bold"},We=(0,t._)("br",null,null,-1),Ce=(0,t._)("br",null,null,-1),$e=(0,t.Uk)(" Платежная система: "),He={class:"text-bold"},Qe=(0,t.Uk)(", реквизиты: "),Ve={class:"text-bold"},Ze=(0,t._)("br",null,null,-1),je=(0,t._)("br",null,null,-1),Ae=(0,t._)("br",null,null,-1),Fe={key:2},Ie=["href"],Te=(0,t._)("br",null,null,-1),Ke={key:3},Pe=["href"],Je=(0,t._)("br",null,null,-1),Ne={key:2},Le=(0,t._)("br",null,null,-1),Me=(0,t._)("br",null,null,-1),Oe=(0,t._)("br",null,null,-1),Be=(0,t._)("br",null,null,-1),Ee=(0,t._)("br",null,null,-1),Ge=(0,t._)("br",null,null,-1),Re=(0,t._)("br",null,null,-1),Xe=(0,t.Uk)(" Создатель оффера: "),Ye=["href"],ea=(0,t._)("br",null,null,-1),aa=(0,t.Uk)(),la=(0,t._)("br",null,null,-1),ta=(0,t.Uk)(" Создатель сделки: "),sa=["href"],na=(0,t._)("br",null,null,-1),oa={key:0},ia=["href"],ra={class:"text-bold"},ua={key:1},da=["href"],pa={class:"text-bold"},ca={key:2},_a=["href"],ma={key:3},wa=["href"],fa={class:"text-bold"},ga={class:"full-height"},Ua=(0,t._)("br",null,null,-1),xa={key:0},ba=["href"],va={class:"flex items-center"},ya={__name:"Trade",setup(e){const a=new Audio("notify.mp3"),ya=(0,i.yj)(),ha=(0,i.tv)(),{EraChain:ka}=l(99407),Sa=(0,r.Q)(),za=(0,d.T)(),qa=(0,s.iH)(null),Da=(0,s.iH)(null),Wa=(0,s.iH)(null),Ca=(0,s.iH)(null),$a=(0,s.iH)(null),Ha=(0,s.iH)(null),Qa=(0,s.iH)(null),Va=(0,s.iH)(!1),Za=(0,s.iH)(!1),ja=(0,s.iH)([]),Aa=((0,s.iH)(0),(0,s.iH)(3e5)),Fa="7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",Ia=(0,t.Fl)((()=>za.user)),Ta=(0,t.Fl)((()=>za.trade)),Ka=(0,t.Fl)((()=>Ta.value.offer.is_sell?Ta.value.offer.user.wallet===Ia.value.wallet:Ta.value.opponent.wallet===Ia.value.wallet));async function Pa(e){let a=Ia.value.wallet;"money_receive"===e&&(a=Ta.value.offer.user.wallet!==Ia.value.wallet?Ta.value.offer.user.wallet:Ta.value.opponent.wallet),c.log($a.value),Va.value=!Va.value;let l=new FormData;l.set("action",e),$a.value&&l.set("file",$a.value),l.set("wallet",a),l.set("uid",Ta.value.UID),c.log(l);const t=await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/trade_action",data:l});t.data.success?(0,p.d)("positive",t.data.message):(0,p.d)("negative",t.data.message),Va.value=!Va.value,"delete"===e&&ha.push({name:"p2p_index"}),"money_receive"===e&&ha.push({name:"p2p_index"})}async function Ja(){qa.value=new WebSocket(`wss://xn--k1affs.xn--p1ai/ws/trade_chat/${Ta.value.UID}`);const e=await o.h.get(`/api/p2p/get_trade_chat?trade_uid=${Ta.value.UID}`);c.log(e.data),ja.value=e.data.messages,qa.value.onmessage=async e=>{let l=JSON.parse(e.data)["message"];c.log("DATA",l.user.wallet);let t={id:l.id,message:l.message,file:l.file?l.file:null,createdAt:l.createdAt,user:{wallet:l.user.wallet,is_p2p_admin:l.user.is_p2p_admin,fio:l.user.fio}};ja.value.push(t),La(),a.play()}}async function Na(e){13===e.keyCode&&Ca.value&&await Oa()}function La(){Za.value&&(Qa.value.setScrollPosition("vertical",Aa.value,300),Aa.value=20*Math.floor(300))}function Ma(){La()}async function Oa(){Va.value=!Va.value;let e=new FormData;e.set("message",JSON.stringify(Ca.value)),e.set("file",Ha.value),e.set("wallet",Ia.value.wallet),e.set("trade_uid",Ta.value.UID),c.log(e);await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/add_message_in_trade_chat",data:e});Ca.value=null,Ha.value=null,Va.value=!Va.value}async function Ba(){Va.value=!Va.value;const e=!0,a=await Sa.getKeyPair(),l=new ka.Type.KeyPair(a),t={assetKey:Ta.value.offer.asset.key,amount:Ta.value.asset_amount};c.log(l),c.log(t);const s=await u.era.tranRawSendAsset(l,t,Fa,"Депонирование баланса",`Сделка ${Ta.value.id} по офферу ${Ta.value.offer.id}`,!1,e);c.log(s),s.error?(0,p.d)("negative",s.error.message):(Da.value=s.fee,Wa.value=s.raw,await Ea()),Va.value=!Va.value}async function Ea(){const e=await u.era.broadcast64(Wa.value);if(c.log(e),e.error)(0,p.d)("negative",e.message);else{(0,p.d)("positive","Баланс задепонирован");await o.h.post("/api/p2p/trade_action",{action:"freeze_money",uid:Ta.value.UID,tx:e.signature,wallet:Ia.value.wallet})}}return(0,t.wF)((async()=>{za.current_trade_uid=ya.params.uid,await za.get_user(),c.log("wallet",Ia.value),await za.get_trade(),await Ja(),Ta.value.status.is_need_help&&(Za.value=!0)})),(0,t.Jd)((async()=>{qa.value?qa.value.close():c.log("not connect")})),(e,a)=>{const l=(0,t.up)("page-header"),o=(0,t.up)("q-btn"),i=(0,t.up)("q-card-section"),r=(0,t.up)("q-card"),u=(0,t.up)("q-separator"),d=(0,t.up)("q-icon"),p=(0,t.up)("q-file"),c=(0,t.up)("q-chat-message"),ya=(0,t.up)("q-scroll-area"),ha=(0,t.up)("q-input"),ka=(0,t.up)("q-dialog"),Sa=(0,t.up)("page-body"),za=(0,t.up)("page"),qa=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(za,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Sa,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{route_name:"p2p_index"}),_,!(0,s.SU)(Ta).can_delete&&(0,s.SU)(Ta).status.is_default?((0,t.wg)(),(0,t.iD)("p",m," Отменить сделку можно "+(0,n.zw)(new Date((0,s.SU)(Ta).can_delete_time).toLocaleString()),1)):(0,t.kq)("",!0),(0,s.SU)(Ta).status.is_default&&(0,s.SU)(Ta).can_delete?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(o,{rounded:"",class:"full-width q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:a[0]||(a[0]=e=>Pa("delete")),label:"Отменить сделку"})])):(0,t.kq)("",!0),(0,t.Wm)(r,{flat:"",class:(0,n.C_)(["text-bold text-center q-mb-md text-white",`bg-${(0,s.SU)(Ta).status.color}`])},{default:(0,t.w5)((()=>[(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t._)("span",null,"Статус сделки: "+(0,n.zw)((0,s.SU)(Ta).status.label)+" ",1)])),_:1})])),_:1},8,["class"]),(0,s.SU)(Ta).status.is_declined?((0,t.wg)(),(0,t.iD)("div",ma,[(0,s.SU)(Ta).tx_send?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ta).tx_return}&lang=en`,target:"_blank"},[(0,t._)("span",fa,"Транзакция возврата "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)],8,wa)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",f,[(0,s.SU)(Ta).status.is_need_help?((0,t.wg)(),(0,t.iD)("div",_e,[me,(0,t._)("p",null,[we,(0,t._)("span",fe,"#"+(0,n.zw)((0,s.SU)(Ta).id),1),ge,(0,t._)("span",Ue,"#"+(0,n.zw)((0,s.SU)(Ta).offer.id),1),xe,(0,s.SU)(Ta).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",be,(0,n.zw)((0,s.SU)(Ta).opponent.wallet===(0,s.SU)(Ia).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",ve,(0,n.zw)((0,s.SU)(Ta).opponent.wallet===(0,s.SU)(Ia).wallet?"продажа":"покупка"),1)),(0,t._)("span",ye," "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),he,(0,t._)("span",ke,"комиссия сети 1%, к получению "+(0,n.zw)((0,s.SU)(Ta).asset_amount_without_commission)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),Se,(0,t._)("span",ze,(0,n.zw)((0,s.SU)(Ta).offer.course)+" руб",1),qe,(0,t._)("span",De,(0,n.zw)((0,s.SU)(Ta).fiat_amount)+" руб",1),We,Ce,$e,(0,t._)("span",He,(0,n.zw)((0,s.SU)(Ta).payment_type.label),1),Qe,(0,t._)("span",Ve,(0,n.zw)((0,s.SU)(Ta).payment_type.payment_info),1),Ze,je,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Ka)?"Покупатель":"Продавец"),1),Ae,(0,s.SU)(Ta).offer.user.wallet!==(0,s.SU)(Ia).wallet?((0,t.wg)(),(0,t.iD)("span",Fe,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).offer.user.fio),9,Ie),Te,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ta).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",Ke,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).opponent.fio),9,Pe),Je,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ta).opponent.total_trades),1)]))])])):((0,t.wg)(),(0,t.iD)("div",g,[(0,s.SU)(Ta).status.is_default||(0,s.SU)(Ta).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(r,{flat:"",class:"bg-red-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[x,(0,t.Wm)(o,{label:"Нужна помощь админа",loading:Va.value,onClick:a[1]||(a[1]=e=>Pa("need_help")),class:"full-width","no-caps":"",unelevated:"",color:"yellow-4","text-color":"dark",rounded:""},null,8,["loading"])])),_:1})])),_:1})])),(0,s.SU)(Ta).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("p",null,[v,(0,t._)("span",y,"#"+(0,n.zw)((0,s.SU)(Ta).id),1),h,(0,t._)("span",k,"#"+(0,n.zw)((0,s.SU)(Ta).offer.id),1),S,(0,s.SU)(Ta).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",z,(0,n.zw)((0,s.SU)(Ta).opponent.wallet===(0,s.SU)(Ia).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",q,(0,n.zw)((0,s.SU)(Ta).opponent.wallet===(0,s.SU)(Ia).wallet?"продажа":"покупка"),1)),(0,t._)("span",D," "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),W,(0,t._)("span",C,(0,n.zw)((0,s.SU)(Ta).offer.course)+" руб",1),$,(0,t._)("span",H,(0,n.zw)((0,s.SU)(Ta).fiat_amount)+" руб",1),Q,(0,t._)("span",V,"комиссия сети 1%, к получению "+(0,n.zw)((0,s.SU)(Ta).asset_amount_without_commission)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),Z,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Ka)?"Покупатель":"Продавец"),1),j,(0,s.SU)(Ta).offer.user.wallet!==(0,s.SU)(Ia).wallet?((0,t.wg)(),(0,t.iD)("span",A,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).offer.user.fio),9,F),I,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ta).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",T,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).opponent.fio),9,K),P,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ta).opponent.total_trades),1)]))]),(0,t.Wm)(u,{spaced:"lg"}),(0,s.SU)(Ta).status.is_default?((0,t.wg)(),(0,t.iD)("div",J,[(0,s.SU)(Ta).offer.user.wallet===(0,s.SU)(Ia).wallet?((0,t.wg)(),(0,t.iD)("div",N,[(0,t.Wm)(o,{loading:Va.value,label:"Согласен на сделку",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[2]||(a[2]=e=>Pa("trade_accept")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Ta).status.is_active?((0,t.wg)(),(0,t.iD)("div",L,[(0,s.SU)(Ka)?((0,t.wg)(),(0,t.iD)("div",M,[(0,t._)("p",null,[O,(0,t._)("span",B,(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),E]),(0,t.Wm)(o,{loading:Va.value,label:`Задепонировать ${(0,s.SU)(Ta).asset_amount} ${(0,s.SU)(Ta).offer.asset.name}`,rounded:"",color:"positive",class:"full-width q-py-md",onClick:Ba,unelevated:"","no-caps":""},null,8,["loading","label"])])):((0,t.wg)(),(0,t.iD)("div",G,[R,(0,t._)("p",null,"Ожидание депонирования "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)]))])):(0,t.kq)("",!0),(0,s.SU)(Ta).status.is_money_freeze?((0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ta).tx}&lang=en`,target:"_blank"},[(0,t._)("span",ee,"Транзакция депонирования "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)],8,Y)]),(0,s.SU)(Ka)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ae,[(0,t._)("p",le,[te,se,(0,t.Uk)(" Платежная система: "+(0,n.zw)((0,s.SU)(Ta).payment_type.label),1),ne,(0,t.Uk)(" Реквизиты: "+(0,n.zw)((0,s.SU)(Ta).payment_type.payment_info),1)]),oe,(0,t.Wm)(p,{dense:"",outlined:"",rounded:"",label:"Подверждение оплаты",modelValue:$a.value,"onUpdate:modelValue":a[3]||(a[3]=e=>$a.value=e),class:"q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{loading:Va.value,disable:!$a.value,label:"Оплату произвел",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[4]||(a[4]=e=>Pa("money_send")),unelevated:"","no-caps":""},null,8,["loading","disable"])]))])):(0,t.kq)("",!0),(0,s.SU)(Ta).status.is_money_sent?((0,t.wg)(),(0,t.iD)("div",ie,[(0,s.SU)(Ka)?((0,t.wg)(),(0,t.iD)("div",re,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Ta).send_img,target:"_blank"},"Подтверждение оплаты",8,ue)]),(0,t.Wm)(o,{loading:Va.value,label:"Оплату получил",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[5]||(a[5]=e=>Pa("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Ta).status.is_money_recieve?((0,t.wg)(),(0,t.iD)("div",de,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ta).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",ce,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)],8,pe)])])):(0,t.kq)("",!0)]))])),(0,s.SU)(Ia).is_p2p_admin?((0,t.wg)(),(0,t.iD)("div",Ne,[(0,t._)("p",null,[(0,t.Uk)(" Cделка № "+(0,n.zw)((0,s.SU)(Ta).id),1),Le,(0,t.Uk)(" Оффер № "+(0,n.zw)((0,s.SU)(Ta).offer.id),1),Me,(0,t.Uk)(" Сумма сделки в рублях: "+(0,n.zw)((0,s.SU)(Ta).fiat_amount),1),Oe,(0,t.Uk)(" Сумма сделки в активе: "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1),Be,Ee,(0,t.Uk)(" Тип оффера: "+(0,n.zw)((0,s.SU)(Ta).offer.is_sell?"продажа":"покупка"),1),Ge,Re,Xe,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).offer.user.wallet),9,Ye),ea,aa,la,ta,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ta).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ta).opponent.wallet),9,sa),na]),(0,s.SU)(Ta).tx?((0,t.wg)(),(0,t.iD)("p",oa,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ta).tx}&lang=en`,target:"_blank"},[(0,t._)("span",ra,"Транзакция депонирования "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)],8,ia)])):(0,t.kq)("",!0),(0,s.SU)(Ta).tx_send?((0,t.wg)(),(0,t.iD)("p",ua,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ta).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",pa,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Ta).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ta).offer.asset.name),1)],8,da)])):(0,t.kq)("",!0),(0,s.SU)(Ta).send_img?((0,t.wg)(),(0,t.iD)("p",ca,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Ta).send_img,target:"_blank"},"Подтверждение оплаты",8,_a)])):(0,t.kq)("",!0),(0,s.SU)(Ta).tx?((0,t.wg)(),(0,t.j4)(o,{key:3,loading:Va.value,label:"Отмена сделки с возвратом задепонированнго баланса продавцу",rounded:"",color:"negative",class:"full-width q-py-md q-mb-md",onClick:a[6]||(a[6]=e=>Pa("admin_stop")),unelevated:"","no-caps":""},null,8,["loading"])):(0,t.kq)("",!0),(0,t.Wm)(o,{rounded:"",class:"full-width q-py-md q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:a[7]||(a[7]=e=>Pa("delete")),label:"Отменить сделку"}),(0,t.Wm)(o,{loading:Va.value,label:"Завершить сделку с перечисление средств покупателю",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[8]||(a[8]=e=>Pa("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])),(0,t.Wm)(ka,{modelValue:Za.value,"onUpdate:modelValue":a[12]||(a[12]=e=>Za.value=e),seamless:"",position:"bottom",onShow:Ma},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"full-width"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"q-pt-xl"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{class:"absolute-top-right z-max",flat:"",round:"",icon:"close"},null,512),[[qa]]),(0,t._)("div",ga,[(0,t.Wm)(ya,{ref_key:"messages_wrapper",ref:Qa,style:{height:"300px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(ja.value,(e=>((0,t.wg)(),(0,t.j4)(c,{key:e.id,stamp:new Date(e.createdAt).toLocaleString(),name:e.user.fio,text:[e.message],sent:e.user.wallet===(0,s.SU)(Ia).wallet,"bg-color":e.user.is_p2p_admin?"red-7":e.user.wallet===(0,s.SU)(Ia).wallet?"green-3":"grey-3","text-color":e.user.is_p2p_admin?"white":""},{name:(0,t.w5)((()=>[(0,t._)("span",{class:(0,n.C_)(e.user.is_p2p_admin?"text-red-7":"")},(0,n.zw)(e.user.fio),3),Ua,e.file?((0,t.wg)(),(0,t.iD)("span",xa,[(0,t._)("a",{class:"file_link",target:"_blank",href:e.file},"Прикрепленный файл",8,ba)])):(0,t.kq)("",!0)])),_:2},1032,["stamp","name","text","sent","bg-color","text-color"])))),128))])),_:1},512),(0,t._)("div",va,[(0,t.Wm)(d,{size:"24px",class:"cursor-pointer q-mr-lg",color:Ha.value?"positive":"grey-6",name:"attach_file"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{position:"absolute",width:"42px",opacity:"0"},modelValue:Ha.value,"onUpdate:modelValue":a[9]||(a[9]=e=>Ha.value=e)},null,8,["modelValue"])])),_:1},8,["color"]),(0,t.Wm)(ha,{outlined:"",rounded:"",class:"col-grow",loading:Va.value,disable:Va.value,onKeydown:Na,modelValue:Ca.value,"onUpdate:modelValue":a[11]||(a[11]=e=>Ca.value=e),label:"Ваше сообщение"},{append:(0,t.w5)((()=>[(0,t.Wm)(o,{round:"",dense:"",disable:!Ca.value,loading:Va.value,onClick:a[10]||(a[10]=e=>Oa()),flat:"",icon:"send"},null,8,["disable","loading"])])),_:1},8,["loading","disable","modelValue"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{style:{position:"fixed",bottom:"20px",right:"20px"},flat:"",size:"24px",round:"",icon:"las la-comments",onClick:a[13]||(a[13]=e=>Za.value=!0)},{default:(0,t.w5)((()=>[ja.value.length>0?((0,t.wg)(),(0,t.j4)(d,{key:0,class:"absolute-top-right",size:"16px",color:"red",name:"priority_high"})):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1})}}};var ha=l(24455),ka=l(44458),Sa=l(63190),za=l(50926),qa=l(33837),Da=l(22857),Wa=l(32074),Ca=l(66663),$a=l(396),Ha=l(13119),Qa=l(62146),Va=l(69984),Za=l.n(Va);const ja=ya,Aa=ja;Za()(ya,"components",{QBtn:ha.Z,QCard:ka.Z,QCardSection:Sa.Z,QSeparator:za.Z,QFile:qa.Z,QIcon:Da.Z,QDialog:Wa.Z,QScrollArea:Ca.Z,QChatMessage:$a.Z,QInput:Ha.Z}),Za()(ya,"directives",{ClosePopup:Qa.Z})}}]);