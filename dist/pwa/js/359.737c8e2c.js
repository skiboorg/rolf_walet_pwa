"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[359],{72359:(e,a,l)=>{l.r(a),l.d(a,{default:()=>F});var n=l(59835),s=l(60499),t=l(86970),u=l(99407),i=l(98030),c=l(23459),d=l(46190),r=l(17779),o=l(95269)["Buffer"];const m=(0,n._)("div",{class:"",style:{height:"60px"}},null,-1),p={class:"q-mb-lg"},g={key:0,class:""},w=(0,n._)("p",null,"Основная информация",-1),v={class:"row q-col-gutter-md q-mb-lg"},b={class:"col-6"},y={class:"col-6"},h=(0,n._)("p",{class:"q-mb-none text-weight-medium"},"ФИО",-1),_={class:"q-mb-none text-caption"},q=(0,n._)("p",{class:"q-mb-none text-weight-medium"},"Пол",-1),f={class:"q-mb-none text-caption"},k=(0,n._)("p",{class:"q-mb-none text-weight-medium"},"Дата рождения",-1),x={class:"q-mb-none text-caption"},S={key:0,class:"text-negative"},U={__name:"VerifyPerson",setup(e){const a=(0,c.Q)(),l=(0,d.c)();let U=(0,s.iH)(!1),H=(0,s.iH)(null),C=(0,s.iH)(null),W=(0,s.iH)(null),z=(0,s.iH)(null),A=(0,s.iH)(null),D=(0,s.iH)(null);(0,n.Fl)((()=>l.addresses[l.currentAddressIdx].publicKey)),(0,n.Fl)((()=>l.addresses[l.currentAddressIdx].address));const F=async()=>{U.value=!U.value;const e=await a.getKeyPair(),l=await i.era.tranRawPerson(e,z.value,!1);r.log(l),l.raw&&(A.value=l.raw,D.value=l.fee),U.value=!U.value},P=async()=>{U.value=!U.value;const e=await u.EraChain.Type.PersonHuman.parse(C.value);r.log(e),z.value=e,W.value={name:e.name,desc:e.description,image:"data:image/png;base64,"+o.from(e.image).toString("base64"),birthday:e.birthday,deathday:e.deathday,gender:e.gender},U.value=!U.value};function Q(){const e=new FileReader;e.addEventListener("load",(async()=>{C.value=e.result,await P()}),!1),H.value&&e.readAsText(H.value)}return(e,a)=>{const l=(0,n.up)("page-header"),u=(0,n.up)("q-file"),i=(0,n.up)("q-btn"),c=(0,n.up)("q-img"),d=(0,n.up)("page-body"),r=(0,n.up)("page");return(0,n.wg)(),(0,n.j4)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{class:"q-px-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(l),m,(0,n._)("div",p,[(0,n.Wm)(u,{modelValue:(0,s.SU)(H),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.dq)(H)?H.value=e:H=e),accept:".txt",dense:"",label:"Выберите файл с raw кодом",outlined:"",clearable:"",class:"q-mb-md"},null,8,["modelValue"]),(0,n.Wm)(i,{onClick:Q,"no-caps":"",unelevated:"",class:"full-width",color:"primary",label:"Проверить RAW код"})]),(0,s.SU)(W)?((0,n.wg)(),(0,n.iD)("div",g,[w,(0,n._)("div",v,[(0,n._)("div",b,[(0,n.Wm)(c,{src:(0,s.SU)(W).image},null,8,["src"])]),(0,n._)("div",y,[h,(0,n._)("p",_,(0,t.zw)((0,s.SU)(W).name),1),q,(0,n._)("p",f,(0,t.zw)(0===(0,s.SU)(W).gender?"Мужской":"Женский"),1),k,(0,n._)("p",x,(0,t.zw)(new Date((0,s.SU)(W).birthday).toLocaleDateString()),1)])]),(0,s.SU)(D)?((0,n.wg)(),(0,n.iD)("p",S,"Комиссия: "+(0,t.zw)((0,s.SU)(D)),1)):(0,n.kq)("",!0),(0,s.SU)(D)?((0,n.wg)(),(0,n.j4)(i,{key:2,onClick:F,"no-caps":"",unelevated:"",class:"full-width",color:"primary",label:"Верифицировать"})):((0,n.wg)(),(0,n.j4)(i,{key:1,onClick:F,"no-caps":"",unelevated:"",class:"full-width",color:"primary",label:"Узнать комиссию"}))])):(0,n.kq)("",!0)])),_:1})])),_:1})}}};var H=l(33171),C=l(24455),W=l(70335),z=l(69984),A=l.n(z);const D=U,F=D;A()(U,"components",{QFile:H.Z,QBtn:C.Z,QImg:W.Z})}}]);