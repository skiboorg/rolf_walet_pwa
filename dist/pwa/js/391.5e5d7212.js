"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[391],{35391:(e,a,l)=>{l.r(a),l.d(a,{default:()=>E});var u=l(59835),s=l(60499),n=l(86970),t=l(23459),o=l(46190),i=l(91569),m=l(39981),c=l.n(m),r=l(18910),d=l(87270),v=l(65054);const p=(0,u._)("div",{class:"",style:{height:"60px"}},null,-1),y={key:0,class:"q-mb-lg"},b=(0,u._)("p",{class:"q-mb-sm text-caption"},"Укажите кошелек с которого будете совершать транзакцию*",-1),_=(0,u._)("p",{class:"q-mb-sm text-caption"},"С указанного вами кошелька совершаете транзакцию на адрес:",-1),w={class:"text-weight-medium q-mb-sm"},U={class:"q-mb-sm text-caption"},g=(0,u.Uk)(" Отправляйте на данный адрес только "),h={class:"text-weight-bold"},q=(0,u._)("br",null,null,-1),x=(0,u._)("span",{class:"text-negative"},"Отправка любых других монет приведет к их безвозвратной потере",-1),k=(0,u._)("br",null,null,-1),S=(0,u.Uk)(" Совершая транзакцию в "),f={class:"text-weight-bold"},V=(0,u._)("br",null,null,-1),z=(0,u.Uk)(" Зачисление происходит в сроки до 24 часов с момента транзакции (указаны максимальные сроки) "),A=(0,u._)("p",{class:"q-mb-sm text-caption"},"Сумма пополнения*",-1),H={key:1,class:"q-mb-lg"},F={class:"q-mb-sm text-caption"},W=(0,u._)("br",null,null,-1),C={class:"text-bold text-negative"},Q={class:"q-mb-sm text-caption text-bold"},$={__name:"Buy",setup(e){const a=(0,t.Q)(),l=(0,o.c)(),m=(0,r.yj)();let $=(0,s.iH)(null),B=(0,s.iH)(null),M=(0,s.iH)(null),Z=(0,s.iH)(!1),j=(0,s.iH)(!1),R=(0,s.iH)(0),D=(0,s.iH)(300),I=(0,s.iH)(0);(0,s.iH)(.02),(0,s.iH)(0);const E=(0,s.iH)({label:"Visa/Mastercard",currency:"RUB",value:"Card1",min:300,max:5e4,commission:.15}),N=[{label:"Visa/Mastercard",value:"Card1",currency:"RUB",min:300,max:5e4,commission:.15},{label:"Qiwi",value:"Qiwi",currency:"RUB",min:300,max:5e4,commission:.15}],T=(0,u.Fl)((()=>2===P.value.key?(I.value=D.value,parseFloat(parseFloat(D.value/P.value.course)-parseFloat(D.value/P.value.course*E.value.commission)).toFixed(5)):(I.value=D.value*P.value.course_api,parseFloat(D.value-D.value*E.value.commission).toFixed(5))));async function G(){Z.value=!Z.value;const e=await c().post("https://rupay.pro/api/data/create_payment",{wallet:Y.value,type:E.value.value,want_to_buy:T.value,amount:I.value,currency:2===P.value.key||1643===P.value.key?E.value.currency:"USD",asset_id:P.value.key});Z.value=!Z.value,e.data.success?window.location.href=e.data.url:(0,d.d)("negative",JSON.stringify(e.data.message))}async function J(){Z.value=!Z.value,await i.h.post("/api/settings/payment_request",{code:$.value,wallet:Y.value,fromWallet:M.value,currency:P.value.name,amount:B.value}),await c().get(`https://api.telegram.org/bot603507616:AAEmmGeaujFe_lqkw31HHSoh2EiAvVNtFA4/sendMessage?chat_id=-542426502\n  &text=Запрос на пополнение с RUPAY%0A\n  Код : ${$.value}%0A\n  На кошелек ${Y.value}%0A\n  С кошелька: ${M.value}%0A\n  Валюта: ${P.value.name}%0A\n  Сумма пополнения: ${B.value}\n`),$.value=K(4),M.value=null,B.value=null,Z.value=!Z.value,j.value=!0,(0,d.d)("positive","Запрос успешно отправлен<br>Ожидаем поступление средств")}function O(){(0,v.Z)(P.value.from_address).then((()=>{(0,d.d)("positive","Адрес кошелька скопирован")})).catch((()=>{}))}const P=(0,u.Fl)((()=>a.assets.find((e=>e.key===R.value)))),Y=(0,u.Fl)((()=>l.addresses[l.currentAddressIdx].address));function K(e){for(var a="",l="0123456789",u=l.length,s=0;s<e;s++)a+=l.charAt(Math.floor(Math.random()*u));return a}return(0,u.wF)((async()=>{R.value=parseInt(m.query.asset),$.value=K(4),P.value.payment_system&&(E.value={label:P.value.payment_system,value:P.value.payment_system,currency:`${P.value.name}`,min:P.value.payment_min/P.value.course_api,max:P.value.payment_max/P.value.course_api,commission:P.value.payment_comission/100},D.value=P.value.payment_min/P.value.course_api)})),(e,a)=>{const l=(0,u.up)("page-header"),t=(0,u.up)("q-input"),o=(0,u.up)("q-btn"),i=(0,u.up)("q-select"),m=(0,u.up)("q-scroll-area"),c=(0,u.up)("page-body"),r=(0,u.up)("page");return(0,u.wg)(),(0,u.j4)(r,null,{default:(0,u.w5)((()=>[(0,u.Wm)(c,{class:"q-px-md"},{default:(0,u.w5)((()=>[(0,u.Wm)(l),p,(0,s.SU)(P).show_description?((0,u.wg)(),(0,u.iD)("div",y,[b,(0,u.Wm)(t,{class:"q-mb-sm",dense:"",outlined:"",modelValue:(0,s.SU)(M),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,s.dq)(M)?M.value=e:M=e)},null,8,["modelValue"]),(0,u._)("div",null,[_,(0,u._)("p",w,(0,n.zw)((0,s.SU)(P).from_address),1),(0,u.Wm)(o,{class:"q-mb-sm",color:"primary",label:"Скопировать адрес",onClick:O,"no-caps":"",size:"12px",unelevated:"",icon:"las la-copy"}),(0,u._)("p",U,[g,(0,u._)("span",h,(0,n.zw)((0,s.SU)(P).name)+" "+(0,n.zw)((0,s.SU)(P).description),1),q,x,k,S,(0,u._)("span",f,(0,n.zw)((0,s.SU)(P).name),1),(0,u.Uk)(" вы делаете добровольный имущественный паевой взнос ПКРГИ РОЛФ Равный количеству отправляемых "+(0,n.zw)((0,s.SU)(P).name)+" Вывод монет с кошелька является выплатой по вашему взносу",1),V,z]),A,(0,u.Wm)(t,{class:"q-mb-sm",dense:"",outlined:"",modelValue:(0,s.SU)(B),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.dq)(B)?B.value=e:B=e),type:"number"},null,8,["modelValue"]),(0,u.Wm)(o,{color:"primary",loading:(0,s.SU)(Z),onClick:J,disable:!(0,s.SU)(B)||!(0,s.SU)(M),unelevated:"","no-caps":"",class:"full-width q-py-md",label:"Отправить"},null,8,["loading","disable"])])])):((0,u.wg)(),(0,u.iD)("div",H,[(0,u.Wm)(m,{style:{height:"85vh"}},{default:(0,u.w5)((()=>[2===(0,s.SU)(P).key||1643===(0,s.SU)(P).key?((0,u.wg)(),(0,u.j4)(i,{key:0,rounded:"",modelValue:E.value,"onUpdate:modelValue":a[2]||(a[2]=e=>E.value=e),outlined:"",dense:"",options:N,class:"q-mb-md",label:"Выберите тип оплаты"},null,8,["modelValue"])):(0,u.kq)("",!0),(0,u._)("p",F,[(0,u.Uk)("Сумма пополнения в "+(0,n.zw)(E.value.currency)+"*",1),W,(0,u._)("span",C," мининум "+(0,n.zw)(E.value.min)+" "+(0,n.zw)(E.value.currency)+", максимум "+(0,n.zw)(E.value.max)+" "+(0,n.zw)(E.value.currency)+", комиссия "+(0,n.zw)(100*E.value.commission)+" %",1)]),(0,u.Wm)(t,{rounded:"",class:"q-mb-sm",dense:"",outlined:"",modelValue:(0,s.SU)(D),"onUpdate:modelValue":a[3]||(a[3]=e=>(0,s.dq)(D)?D.value=e:D=e),type:"number",label:"На какую сумму хотите пополнить*"},null,8,["modelValue"]),(0,u._)("p",Q,"Вы получите: "+(0,n.zw)((0,s.SU)(T))+" "+(0,n.zw)((0,s.SU)(P).name),1),(0,u.Wm)(o,{color:"primary",rounded:"",loading:(0,s.SU)(Z),onClick:G,disable:(0,s.SU)(D)<E.value.min||(0,s.SU)(D)>E.value.max,unelevated:"","no-caps":"",class:"full-width q-py-md",label:"Отправить"},null,8,["loading","disable"])])),_:1})]))])),_:1})])),_:1})}}};var B=l(13119),M=l(24455),Z=l(66663),j=l(18401),R=l(69984),D=l.n(R);const I=$,E=I;D()($,"components",{QInput:B.Z,QBtn:M.Z,QScrollArea:Z.Z,QSelect:j.Z})}}]);