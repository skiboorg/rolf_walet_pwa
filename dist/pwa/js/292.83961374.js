"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[292],{83292:(l,e,a)=>{a.r(e),a.d(e,{default:()=>Rl});var n=a(59835),t=a(60499),u=a(86970),o=a(23459),s=a(91569),r=a(87270),i=a(31655);const d=(0,n._)("div",{class:"",style:{height:"50px"}},null,-1),_={key:0},m=(0,n._)("strong",null,"Разместил",-1),p=(0,n.Uk)("в сети"),w=(0,n.Uk)("не в сети"),c=(0,n._)("br",null,null,-1),b=(0,n._)("strong",null,"Дата размещения",-1),g=(0,n._)("br",null,null,-1),f=(0,n._)("strong",null,"Обьем",-1),k=(0,n._)("br",null,null,-1),v=(0,n._)("strong",null,"Курс",-1),U=(0,n._)("br",null,null,-1),y=(0,n._)("strong",null,"Минимальный объем",-1),W=(0,n._)("br",null,null,-1),h=(0,n._)("strong",null,"Тип оплаты",-1),z=(0,n.Uk)(":"),$=(0,n._)("br",null,null,-1),q=(0,n._)("br",null,null,-1),D=(0,n._)("strong",null,"Условия",-1),x=(0,n.Uk)(":"),S=(0,n._)("br",null,null,-1),C=(0,n._)("br",null,null,-1),Q=(0,n._)("br",null,null,-1),V=(0,n._)("strong",null,"Разместил ",-1),Z=(0,n.Uk)("в сети"),j=(0,n.Uk)("не в сети"),H=(0,n._)("br",null,null,-1),Y=(0,n._)("strong",null,"Дата размещения",-1),K=(0,n._)("br",null,null,-1),F=(0,n._)("strong",null,"Обьем",-1),L=(0,n._)("br",null,null,-1),P=(0,n._)("strong",null,"Курс",-1),T=(0,n._)("br",null,null,-1),I=(0,n._)("strong",null,"Минимальный объем",-1),B=(0,n._)("br",null,null,-1),A=(0,n._)("strong",null,"Тип оплаты",-1),E=(0,n.Uk)(":"),G=(0,n._)("br",null,null,-1),J=(0,n._)("br",null,null,-1),M=(0,n._)("strong",null,"Условия",-1),N=(0,n.Uk)(":"),O=(0,n._)("br",null,null,-1),R=(0,n._)("br",null,null,-1),X=(0,n._)("br",null,null,-1),ll=(0,n._)("p",{class:"text-bold"},"Мои предложения",-1),el=(0,n._)("strong",null,"Дата размещения",-1),al=(0,n._)("br",null,null,-1),nl=(0,n._)("strong",null,"Обьем",-1),tl=(0,n._)("br",null,null,-1),ul=(0,n._)("strong",null,"Курс",-1),ol=(0,n._)("br",null,null,-1),sl=(0,n._)("strong",null,"Минимальный объем",-1),rl=(0,n._)("br",null,null,-1),il=(0,n._)("strong",null,"Тип оплаты",-1),dl=(0,n.Uk)(":"),_l=(0,n._)("br",null,null,-1),ml=(0,n._)("br",null,null,-1),pl=(0,n._)("strong",null,"Условия",-1),wl=(0,n.Uk)(":"),cl=(0,n._)("br",null,null,-1),bl=(0,n._)("br",null,null,-1),gl=(0,n._)("br",null,null,-1),fl={class:"q-gutter-md"},kl=(0,n._)("p",{class:"text-bold"},"Мои сделки",-1),vl=(0,n._)("strong",null,"Дата создания сделки",-1),Ul=(0,n._)("br",null,null,-1),yl=(0,n._)("br",null,null,-1),Wl=(0,n._)("strong",null,"Объем в рублях",-1),hl=(0,n._)("br",null,null,-1),zl=(0,n._)("br",null,null,-1),$l=(0,n._)("p",{class:"text-bold"},"Активные сделки",-1),ql=(0,n._)("strong",null,"Дата создания сделки",-1),Dl=(0,n._)("br",null,null,-1),xl=(0,n._)("br",null,null,-1),Sl=(0,n._)("strong",null,"Объем в рублях",-1),Cl=(0,n._)("br",null,null,-1),Ql=(0,n._)("br",null,null,-1),Vl={key:1,class:"relative-position full-height"},Zl={__name:"Index",setup(l){let e=a(24409);const Zl=(0,o.Q)(),jl=(0,i.T)(),Hl=(0,t.iH)("sell"),Yl=(0,t.iH)("offers"),Kl=(0,t.iH)(!1),Fl=(0,t.iH)({name:""});(0,n.YP)(Fl,(async l=>{await Gl()}));const Ll=(0,n.Fl)((()=>e.orderBy(Zl.assets,["id"]))),Pl=(0,n.Fl)((()=>jl.offers)),Tl=(0,n.Fl)((()=>jl.own_offers)),Il=(0,n.Fl)((()=>jl.own_trades)),Bl=(0,n.Fl)((()=>jl.all_trades)),Al=(0,n.Fl)((()=>jl.user));async function El(l){const e=await s.h.post("/api/p2p/delete_offer",{wallet:Al.value.wallet,id:l});e.data.success?(0,r.d)("positive",e.data.message):(0,r.d)("negative",e.data.message),await jl.get_own_offers()}async function Gl(){await jl.getAllData(Fl.value.id)}return(0,n.wF)((async()=>{Kl.value=!Kl,Fl.value=Ll.value[0],await Gl(),Kl.value=!Kl})),(l,e)=>{const a=(0,n.up)("page-header"),o=(0,n.up)("q-tab"),s=(0,n.up)("q-tabs"),r=(0,n.up)("q-separator"),i=(0,n.up)("q-select"),Zl=(0,n.up)("q-btn"),jl=(0,n.up)("q-inner-loading"),Gl=(0,n.up)("q-badge"),Jl=(0,n.up)("q-card-section"),Ml=(0,n.up)("q-card"),Nl=(0,n.up)("q-expansion-item"),Ol=(0,n.up)("q-list"),Rl=(0,n.up)("q-scroll-area"),Xl=(0,n.up)("q-tab-panel"),le=(0,n.up)("q-tab-panels"),ee=(0,n.up)("page-body"),ae=(0,n.up)("page");return(0,n.wg)(),(0,n.j4)(ae,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ee,{class:""},{default:(0,n.w5)((()=>[(0,n.Wm)(a,{route_name:"wallet_index"}),d,(0,t.SU)(Al).is_p2p_blocked?((0,n.wg)(),(0,n.iD)("div",Vl,[(0,n.Wm)(jl,{class:"z-max",showing:"",label:"Доступ на P2P вам временно закрыт",color:"negative","label-class":"text-negative","label-style":"font-size: 1.1em"})])):((0,n.wg)(),(0,n.iD)("div",_,[(0,n.Wm)(s,{modelValue:Yl.value,"onUpdate:modelValue":e[0]||(e[0]=l=>Yl.value=l),align:"justify","narrow-indicator":""},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{"no-caps":"",class:"bg-white text-primary",name:"offers",label:"P2P"}),(0,n.Wm)(o,{"no-caps":"",class:"bg-white text-primary",name:"own",label:"Мои предложения и сделки"}),(0,t.SU)(Al).is_p2p_admin?((0,n.wg)(),(0,n.j4)(o,{key:0,"no-caps":"",class:"bg-white text-negative",name:"admin",label:"Раздел админа"})):(0,n.kq)("",!0)])),_:1},8,["modelValue"]),(0,n.Wm)(r),(0,n.Wm)(le,{modelValue:Yl.value,"onUpdate:modelValue":e[6]||(e[6]=l=>Yl.value=l),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Xl,{name:"offers",class:"q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{outlined:"",rounded:"",options:(0,t.SU)(Ll),modelValue:Fl.value,"onUpdate:modelValue":e[1]||(e[1]=l=>Fl.value=l),"option-label":"name",class:"q-mb-md",behavior:"menu",label:"Выберите актив"},null,8,["options","modelValue"]),(0,n.Wm)(Zl,{label:"Создать предложение на покупку",onClick:e[2]||(e[2]=e=>l.$router.push({name:"p2p_new_buy_offer"})),rounded:"",unelevated:"","no-caps":"",color:"positive",class:"full-width q-mb-md q-py-md"}),(0,n.Wm)(Zl,{label:"Создать предложение на продажу",onClick:e[3]||(e[3]=e=>l.$router.push({name:"p2p_new_sell_offer"})),rounded:"",unelevated:"","no-caps":"",color:"negative",class:"full-width q-py-md"}),(0,n.Wm)(r,{spaced:"lg"}),(0,n.Wm)(s,{modelValue:Hl.value,"onUpdate:modelValue":e[4]||(e[4]=l=>Hl.value=l),align:"justify"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{"no-caps":"",class:"bg-white text-negative",name:"sell",label:"Продажа"}),(0,n.Wm)(o,{"no-caps":"",class:"bg-white text-positive",name:"buy",label:"Покупка"})])),_:1},8,["modelValue"]),(0,n.Wm)(r),(0,n.Wm)(le,{modelValue:Hl.value,"onUpdate:modelValue":e[5]||(e[5]=l=>Hl.value=l),animated:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Xl,{name:"buy",class:"no-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(Rl,{style:{height:"calc(100vh - 400px)"}},{default:(0,n.w5)((()=>[(0,n.Wm)(jl,{class:"z-max",showing:Kl.value,color:"primary"},null,8,["showing"]),(0,n.Wm)(Ol,{separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(Pl).filter((l=>!l.is_sell)),(e=>((0,n.wg)(),(0,n.j4)(Nl,{clickable:"",group:"buy",label:`№${e.id} Объем ${e.amount} из ${e.start_amount}`,key:e.id,caption:`Курс ${e.course}`},{default:(0,n.w5)((()=>[(0,n.Wm)(Ml,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Jl,null,{default:(0,n.w5)((()=>[m,(0,n.Uk)(" "+(0,u.zw)(e.user.fio)+" ",1),e.user.is_online?((0,n.wg)(),(0,n.j4)(Gl,{key:0,color:"positive"},{default:(0,n.w5)((()=>[p])),_:1})):((0,n.wg)(),(0,n.j4)(Gl,{key:1,color:"negative"},{default:(0,n.w5)((()=>[w])),_:1})),c,b,(0,n.Uk)(": "+(0,u.zw)(new Date(e.created_at).toLocaleDateString()),1),g,f,(0,n.Uk)(": "+(0,u.zw)(e.amount)+" из "+(0,u.zw)(e.start_amount),1),k,v,(0,n.Uk)(": "+(0,u.zw)(e.course),1),U,y,(0,n.Uk)(": "+(0,u.zw)(e.min_amount),1),W,h,z,$,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.payment_types,(l=>((0,n.wg)(),(0,n.iD)("span",{key:l.id},(0,u.zw)(l.label)+"  ",1)))),128)),q,D,x,S,(0,n.Uk)(" "+(0,u.zw)(e.rules),1),C,Q,(0,n.Wm)(Zl,{color:"negative",disable:e.user.wallet===(0,t.SU)(Al).wallet,onClick:a=>l.$router.push({name:"p2p_offer",params:{offer_id:e.id}}),rounded:"","no-caps":"",unelevated:"",class:"full-width",label:"Продать"},null,8,["disable","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","caption"])))),128))])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Xl,{name:"sell",class:"no-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(Rl,{style:{height:"calc(100vh - 400px)"}},{default:(0,n.w5)((()=>[(0,n.Wm)(jl,{class:"z-max",showing:Kl.value,color:"primary"},null,8,["showing"]),(0,n.Wm)(Ol,{separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(Pl).filter((l=>l.is_sell)),(e=>((0,n.wg)(),(0,n.j4)(Nl,{clickable:"",group:"sell",key:e.id,label:`№${e.id} Объем ${e.amount} из ${e.start_amount}`,caption:`Курс ${e.course}`},{default:(0,n.w5)((()=>[(0,n.Wm)(Ml,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Jl,null,{default:(0,n.w5)((()=>[V,(0,n.Uk)(" "+(0,u.zw)(e.user.fio)+" ",1),e.user.is_online?((0,n.wg)(),(0,n.j4)(Gl,{key:0,color:"positive"},{default:(0,n.w5)((()=>[Z])),_:1})):((0,n.wg)(),(0,n.j4)(Gl,{key:1,color:"negative"},{default:(0,n.w5)((()=>[j])),_:1})),H,Y,(0,n.Uk)(": "+(0,u.zw)(new Date(e.created_at).toLocaleDateString()),1),K,F,(0,n.Uk)(": "+(0,u.zw)(e.amount)+" из "+(0,u.zw)(e.start_amount),1),L,P,(0,n.Uk)(": "+(0,u.zw)(e.course)+" руб",1),T,I,(0,n.Uk)(": "+(0,u.zw)(e.min_amount),1),B,A,E,G,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.payment_types,(l=>((0,n.wg)(),(0,n.iD)("span",{key:l.id},(0,u.zw)(l.label)+"  ",1)))),128)),J,M,N,O,(0,n.Uk)(" "+(0,u.zw)(e.rules),1),R,X,(0,n.Wm)(Zl,{color:"positive",disable:e.user.wallet===(0,t.SU)(Al).wallet,onClick:a=>l.$router.push({name:"p2p_offer",params:{offer_id:e.id}}),rounded:"","no-caps":"",unelevated:"",class:"full-width",label:"Купить"},null,8,["disable","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","caption"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(Xl,{name:"own",class:"q-pa-md"},{default:(0,n.w5)((()=>[ll,(0,n.Wm)(Ol,{separator:"",class:"q-mb-md"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(Tl),(l=>((0,n.wg)(),(0,n.j4)(Nl,{clickable:"",group:"offers",label:`#${l.id} - На ${l.is_sell?"продажу":"покупку"} ${l.amount} ${l.asset.name}`,key:l.id,caption:`Курс ${l.course}`},{default:(0,n.w5)((()=>[(0,n.Wm)(Ml,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Jl,null,{default:(0,n.w5)((()=>[el,(0,n.Uk)(": "+(0,u.zw)(new Date(l.created_at).toLocaleDateString()),1),al,nl,(0,n.Uk)(": "+(0,u.zw)(l.amount),1),tl,ul,(0,n.Uk)(": "+(0,u.zw)(l.course)+" руб",1),ol,sl,(0,n.Uk)(": "+(0,u.zw)(l.min_amount),1),rl,il,dl,_l,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.payment_types,(l=>((0,n.wg)(),(0,n.iD)("span",{key:l.id},(0,u.zw)(l.label)+"  ",1)))),128)),ml,pl,wl,cl,(0,n.Uk)(" "+(0,u.zw)(l.rules),1),bl,gl,(0,n._)("div",fl,[(0,n.Wm)(Zl,{color:"warning",disable:"",rounded:"","no-caps":"",unelevated:"",label:"Редактировать"}),(0,n.Wm)(Zl,{color:"negative",onClick:e=>El(l.id),rounded:"","no-caps":"",unelevated:"",label:"Удалить"},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","caption"])))),128))])),_:1}),kl,(0,n.Wm)(Ol,{separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(Il),(e=>((0,n.wg)(),(0,n.j4)(Nl,{clickable:"",group:"offers",label:`# ${e.id} - ${e.offer.is_sell?e.opponent.wallet===(0,t.SU)(Al).wallet?"Покупка":"Продажа":e.opponent.wallet===(0,t.SU)(Al).wallet?"Продажа":"Покупка"}\n                                ${e.asset_amount} ${e.offer.asset.name} по офферу #${e.offer.id}`,"header-class":`${e.offer.is_sell?e.opponent.wallet===(0,t.SU)(Al).wallet?"text-positive":"text-negative":e.opponent.wallet===(0,t.SU)(Al).wallet?"text-negative":"text-positive"}\n                                ${e.asset_amount} ${e.offer.asset.name}`,key:e.id,caption:`Сумма сделки в рублях ${e.fiat_amount} | Статус сделки: ${e.status.label}`},{default:(0,n.w5)((()=>[(0,n.Wm)(Ml,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Jl,null,{default:(0,n.w5)((()=>[vl,(0,n.Uk)(": "+(0,u.zw)(new Date(e.created_at).toLocaleDateString()),1),Ul,(0,n._)("strong",null,"Обьем в "+(0,u.zw)(e.offer.asset.name),1),(0,n.Uk)(": "+(0,u.zw)(e.asset_amount)+" ",1),yl,Wl,(0,n.Uk)(": "+(0,u.zw)(e.fiat_amount),1),hl,zl,(0,n.Wm)(Zl,{dense:"",class:"full-width q-py-md",color:"primary","no-caps":"",unelevated:"",onClick:a=>l.$router.push({name:"p2p_trade",params:{uid:e.UID}}),rounded:"",label:"В сделку"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","header-class","caption"])))),128))])),_:1})])),_:1}),(0,n.Wm)(Xl,{name:"admin",class:"q-pa-md"},{default:(0,n.w5)((()=>[$l,(0,n.Wm)(Ol,{separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,t.SU)(Bl).filter((l=>l.in_progress)),(e=>((0,n.wg)(),(0,n.j4)(Nl,{clickable:"",group:"offers",label:`№${e.id} Cтатус: ${e.status.label}`,"header-class":`text-${e.status.color}`,key:e.id},{default:(0,n.w5)((()=>[(0,n.Wm)(Ml,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Jl,null,{default:(0,n.w5)((()=>[ql,(0,n.Uk)(": "+(0,u.zw)(new Date(e.created_at).toLocaleDateString()),1),Dl,(0,n._)("strong",null,"Обьем в "+(0,u.zw)(e.offer.asset.name),1),(0,n.Uk)(": "+(0,u.zw)(e.asset_amount)+" ",1),xl,Sl,(0,n.Uk)(": "+(0,u.zw)(e.fiat_amount),1),Cl,Ql,(0,n.Wm)(Zl,{dense:"",class:"full-width q-py-md",color:"primary","no-caps":"",unelevated:"",onClick:a=>l.$router.push({name:"p2p_trade",params:{uid:e.UID}}),rounded:"",label:"В сделку"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","header-class"])))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])]))])),_:1})])),_:1})}}};var jl=a(47817),Hl=a(70900),Yl=a(50926),Kl=a(89800),Fl=a(84106),Ll=a(18401),Pl=a(24455),Tl=a(66663),Il=a(60854),Bl=a(13246),Al=a(61123),El=a(44458),Gl=a(63190),Jl=a(20990),Ml=a(69984),Nl=a.n(Ml);const Ol=Zl,Rl=Ol;Nl()(Zl,"components",{QTabs:jl.Z,QTab:Hl.Z,QSeparator:Yl.Z,QTabPanels:Kl.Z,QTabPanel:Fl.Z,QSelect:Ll.Z,QBtn:Pl.Z,QScrollArea:Tl.Z,QInnerLoading:Il.Z,QList:Bl.Z,QExpansionItem:Al.Z,QCard:El.Z,QCardSection:Gl.Z,QBadge:Jl.Z})}}]);