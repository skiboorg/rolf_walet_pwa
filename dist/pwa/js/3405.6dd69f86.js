"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[3405],{63405:(a,e,l)=>{l.r(e),l.d(e,{default:()=>Q});var t=l(59835),s=l(60499),u=l(86970),o=l(91569),n=l(18910),r=l(46190),d=l(31655),c=(l(99407),l(98030),l(87270)),i=l(23459),p=l(39981),v=l.n(p);const _=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),m={key:0,class:"q-pa-md"},b=(0,t._)("p",{class:"text-bold no-margin"},"Приватный раунд",-1),y={class:"absolute-full flex flex-center"},w={class:"text-bold"},g={class:"text-bold"},f={class:"text-bold"},x={key:0,class:"text-bold"},h={key:1,class:"q-pa-md"},F=(0,t._)("p",null,"Введите реферальный код пригласителя",-1),k={__name:"CryptoTaxi",setup(a){const e=(0,i.Q)(),l=(0,d.T)(),p=((0,n.yj)(),(0,s.iH)({})),k=((0,s.iH)("main"),(0,s.iH)(0),(0,s.iH)(0)),U=((0,s.iH)([]),(0,r.c)()),q=(0,s.iH)(!1),C=(0,s.iH)(null),T=((0,n.tv)(),"https://rupay.pro");async function W(){await(0,c.QO)(Q.value.own_reffer_code,"positive","Код скопирован")}const S=async()=>{q.value=!q.value;const a=await o.h.post("/api/p2p/save_code",{wallet:H.value,used_ref_code:C.value});a.data.success?((0,c.d$)("info",a.data.message),await l.get_user()):(0,c.d$)("negative",a.data.message),q.value=!q.value},H=(0,t.Fl)((()=>U.addresses[U.currentAddressIdx].address)),Q=((0,t.Fl)((()=>e.unconfirmedTx)),(0,t.Fl)((()=>U.balances)),(0,t.Fl)((()=>l.user))),V=((0,t.Fl)((()=>U.assets)),(0,t.Fl)((()=>{const a=e.assets.find((a=>1048648===a.key));return a}))),z=(0,t.Fl)((()=>{if(k.value){let a=parseFloat(parseFloat(V.value.buy_course)+parseFloat(V.value.buy_course*V.value.buy_commission)).toFixed(2);return parseFloat(parseFloat(k.value)/a).toFixed(8)}}));(0,t.wF)((async()=>{const a=await o.h.get("/api/settings/data");p.value=a.data}));const B=async()=>{q.value=!q.value;const a=await v().post(T+"/api/data/create_payment_olf_ex",{wallet:H.value,type:"CARD",want_to_buy:z.value,amount:k.value,currency:"CryptoTaxi",asset_id:1048648,redirect_url:"https://app.rupay.pro",callback_url:"https://rupay.pro/api/data/p2play_url_result_cc"});q.value=!q.value,a.data.success?window.location.href=a.data.url:(0,c.d$)("negative",JSON.stringify(a.data.message))};return(a,e)=>{const l=(0,t.up)("page-header"),o=(0,t.up)("q-badge"),n=(0,t.up)("q-linear-progress"),r=(0,t.up)("q-btn"),d=(0,t.up)("q-input"),c=(0,t.up)("page-body"),i=(0,t.up)("page");return(0,t.wg)(),(0,t.j4)(i,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(l),_,(0,s.SU)(Q).used_reffer_code?((0,t.wg)(),(0,t.iD)("div",m,[b,(0,t.Wm)(n,{size:"40px",value:parseFloat(p.value.total_crypto_taxi)/2e8,color:"primary",class:"q-mb-md"},{default:(0,t.w5)((()=>[(0,t._)("div",y,[(0,t.Wm)(o,{color:"accent","text-color":"primary",class:"text-bold q-pa-sm",label:`${p.value.total_crypto_taxi} / 20млн`},null,8,["label"])])])),_:1},8,["value"]),(0,t._)("p",w,"Количество реффералов в 1й линии: "+(0,u.zw)((0,s.SU)(Q).first_line_count),1),(0,t._)("p",g,[(0,t.Uk)("Ваш реферальный код: "+(0,u.zw)((0,s.SU)(Q).own_reffer_code)+" ",1),(0,t.Wm)(r,{color:"blue-7","text-color":"dark",onClick:W,round:"",dense:"",unelevated:"",icon:"las la-clipboard"})]),(0,t._)("p",f,"Курс покупки: "+(0,u.zw)((0,s.SU)(V).buy_course)+" RUB",1),(0,t.Wm)(d,{modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=a=>k.value=a),type:"number",label:"Введите сумму пополнения в RUB",outlined:"",class:"q-mb-md"},null,8,["modelValue"]),(0,s.SU)(z)?((0,t.wg)(),(0,t.iD)("p",x,"Вы получите: "+(0,u.zw)((0,s.SU)(z))+" CRYPTO TAXI TOKEN",1)):(0,t.kq)("",!0),(0,t.Wm)(r,{label:"Купить",loading:q.value,color:"primary","no-caps":"",class:"full-width",unelevated:"",onClick:B,disable:!(0,s.SU)(z)||parseInt(k.value)<100},null,8,["loading","disable"])])):((0,t.wg)(),(0,t.iD)("div",h,[F,(0,t.Wm)(d,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=a=>C.value=a),outlined:"",class:"q-mb-md"},null,8,["modelValue"]),(0,t.Wm)(r,{label:"Сохранить",loading:q.value,color:"primary","no-caps":"",class:"full-width",unelevated:"",onClick:S,disable:!C.value},null,8,["loading","disable"])]))])),_:1})])),_:1})}}};var U=l(8289),q=l(20990),C=l(24455),T=l(13119),W=l(69984),S=l.n(W);const H=k,Q=H;S()(k,"components",{QLinearProgress:U.Z,QBadge:q.Z,QBtn:C.Z,QInput:T.Z})}}]);