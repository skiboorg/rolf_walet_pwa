"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[3405],{63405:(e,a,l)=>{l.r(a),l.d(a,{default:()=>q});var s=l(59835),t=l(60499),u=l(86970),o=l(91569),n=l(18910),d=l(46190),r=l(31655),i=(l(99407),l(98030),l(87270)),c=l(23459),p=l(39981),_=l.n(p);const v=(0,s._)("div",{class:"",style:{height:"50px"}},null,-1),m={key:0,class:"q-pa-md"},b={class:"text-bold"},y={class:"text-bold"},w={class:"text-bold"},f={class:"text-bold"},g={key:0,class:"text-bold"},h={key:1,class:"q-pa-md"},k=(0,s._)("p",null,"Введите реферальный код пригласителя",-1),F={__name:"CryptoTaxi",setup(e){const a=(0,c.Q)(),l=(0,r.T)(),p=((0,n.yj)(),(0,t.iH)("main"),(0,t.iH)(0),(0,t.iH)(0)),F=((0,t.iH)([]),(0,d.c)()),x=(0,t.iH)(!1),U=(0,t.iH)(null),C=((0,n.tv)(),"https://rupay.pro");async function S(){await(0,i.QO)(W.value.own_reffer_code,"positive","Код скопирован")}const T=async()=>{x.value=!x.value;const e=await o.h.post("/api/p2p/save_code",{wallet:q.value,used_ref_code:U.value});e.data.success?((0,i.d$)("info",e.data.message),await l.get_user()):(0,i.d$)("negative",e.data.message),x.value=!x.value},q=(0,s.Fl)((()=>F.addresses[F.currentAddressIdx].address)),W=((0,s.Fl)((()=>a.unconfirmedTx)),(0,s.Fl)((()=>F.balances)),(0,s.Fl)((()=>l.user))),H=((0,s.Fl)((()=>F.assets)),(0,s.Fl)((()=>{const e=a.assets.find((e=>1048648===e.key));return e}))),V=(0,s.Fl)((()=>{if(p.value){let e=parseFloat(parseFloat(H.value.buy_course)+parseFloat(H.value.buy_course*H.value.buy_commission)).toFixed(2);return parseFloat(parseFloat(p.value)/e).toFixed(8)}})),z=async()=>{x.value=!x.value;const e=await _().post(C+"/api/data/create_payment_olf_ex",{wallet:q.value,type:"CARD",want_to_buy:V.value,amount:p.value,currency:"CryptoTaxi",asset_id:1048648,redirect_url:"https://app.rupay.pro",callback_url:"https://rupay.pro/api/data/p2play_url_result_cc"});x.value=!x.value,e.data.success?window.location.href=e.data.url:(0,i.d$)("negative",JSON.stringify(e.data.message))};return(e,a)=>{const l=(0,s.up)("page-header"),o=(0,s.up)("q-btn"),n=(0,s.up)("q-input"),d=(0,s.up)("page-body"),r=(0,s.up)("page");return(0,s.wg)(),(0,s.j4)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l),v,(0,t.SU)(W).used_reffer_code?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("p",b,"Количество реффералов в 1й линии: "+(0,u.zw)((0,t.SU)(W).first_line_count),1),(0,s._)("p",y,[(0,s.Uk)("Ваш реферальный код: "+(0,u.zw)((0,t.SU)(W).own_reffer_code)+" ",1),(0,s.Wm)(o,{color:"blue-7","text-color":"dark",onClick:S,round:"",dense:"",unelevated:"",icon:"las la-clipboard"})]),(0,s._)("p",w,"Комиссия платежной системы: "+(0,u.zw)(100*parseFloat((0,t.SU)(H).buy_commission))+"%",1),(0,s._)("p",f,"Курс покупки: "+(0,u.zw)((0,t.SU)(H).buy_course)+" RUB",1),(0,s.Wm)(n,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),type:"number",label:"Введите сумму пополнения в RUB",outlined:"",class:"q-mb-md"},null,8,["modelValue"]),(0,t.SU)(V)?((0,s.wg)(),(0,s.iD)("p",g,"Вы получите: "+(0,u.zw)((0,t.SU)(V))+" CRYPTO TAXI TOKEN",1)):(0,s.kq)("",!0),(0,s.Wm)(o,{label:"Купить",loading:x.value,color:"primary","no-caps":"",class:"full-width",unelevated:"",onClick:z,disable:!(0,t.SU)(V)},null,8,["loading","disable"])])):((0,s.wg)(),(0,s.iD)("div",h,[k,(0,s.Wm)(n,{modelValue:U.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),outlined:"",class:"q-mb-md"},null,8,["modelValue"]),(0,s.Wm)(o,{label:"Сохранить",loading:x.value,color:"primary","no-caps":"",class:"full-width",unelevated:"",onClick:T,disable:!U.value},null,8,["loading","disable"])]))])),_:1})])),_:1})}}};var x=l(24455),U=l(13119),C=l(69984),S=l.n(C);const T=F,q=T;S()(F,"components",{QBtn:x.Z,QInput:U.Z})}}]);