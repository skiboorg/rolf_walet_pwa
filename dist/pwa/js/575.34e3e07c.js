"use strict";(globalThis["webpackChunkrolf_wallet"]=globalThis["webpackChunkrolf_wallet"]||[]).push([[575],{25575:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Fa});var t=l(59835),s=l(60499),n=l(86970),o=l(91569),r=l(18910),i=l(23459),u=l(98030),d=l(31655),p=l(87270),c=l(17779);const _=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),m={key:0,class:"text-bold text-center text-primary"},w={key:1},f={key:2},g={key:0},U={key:0,class:"q-mb-md"},b=(0,t._)("p",{class:"text-white caption text-justify"},[(0,t.Uk)("Нажмите эту кпопку при возникновении спорной ситуации. "),(0,t._)("span",{class:"text-bold"},"После нажатия, все действия со сделкой блокируются")],-1),x={key:1},y=(0,t.Uk)("Сделка "),v={class:"text-bold"},h=(0,t.Uk)(" по офферу "),S={class:"text-bold"},k=(0,t.Uk)("  "),z={key:0},D={key:1},q={class:"text-bold"},W=(0,t.Uk)(" по курсу "),C={class:"text-bold"},$=(0,t.Uk)(" на сумму "),H={class:"text-bold"},Q=(0,t._)("br",null,null,-1),V=(0,t._)("br",null,null,-1),Z=(0,t._)("br",null,null,-1),j=(0,t._)("br",null,null,-1),A=(0,t._)("br",null,null,-1),F={key:2},I=["href"],T=(0,t._)("br",null,null,-1),K={key:3},P=["href"],J=(0,t._)("br",null,null,-1),N={key:0},L={key:0},M={key:1},O={key:0},B=(0,t.Uk)("После нажатия на кнопку согласия, с вашего адреса на адрес гаранта будет снята сумма "),E={class:"text-bold"},G=(0,t.Uk)('. В случае возникновения спорных ситуаций в ходе проведения сделки, нажмите на кнопку "Нужна помощь"'),R={key:1},X=(0,t._)("p",{class:"text-bold text-negative text-center text-justify"},"Не переводите оплату до завершения транзакции депонирования!!!",-1),Y={key:2},ee=["href"],ae={class:"text-bold"},le={key:0},te=["href"],se={class:"text-bold"},ne={class:"text-bold"},oe=(0,t.Uk)("Оплату нужно совершить по следующим реквизитам:"),re=(0,t._)("br",null,null,-1),ie=(0,t._)("br",null,null,-1),ue=(0,t._)("p",{class:"text-caption text-bold text-negative text-justify"},"Добавьте любое подтверждение факта оплаты в поле ниже и подтвердите получение оплаты",-1),de={key:3},pe={key:0},ce=["href"],_e={key:4},me=["href"],we={class:"text-bold"},fe={key:1},ge=(0,t._)("p",{class:"text-negative text-center items-center"},"Ожидайте подкючения администратора. Сообщения в чате выделены красным цветом",-1),Ue=(0,t.Uk)("Сделка "),be={class:"text-bold"},xe=(0,t.Uk)(" по офферу "),ye={class:"text-bold"},ve=(0,t.Uk)("  "),he={key:0},Se={key:1},ke={class:"text-bold"},ze=(0,t.Uk)(" по курсу "),De={class:"text-bold"},qe=(0,t.Uk)(" на сумму "),We={class:"text-bold"},Ce=(0,t._)("br",null,null,-1),$e=(0,t._)("br",null,null,-1),He=(0,t.Uk)(" Платежная система: "),Qe={class:"text-bold"},Ve=(0,t.Uk)(", реквизиты: "),Ze={class:"text-bold"},je=(0,t._)("br",null,null,-1),Ae=(0,t._)("br",null,null,-1),Fe=(0,t._)("br",null,null,-1),Ie={key:2},Te=["href"],Ke=(0,t._)("br",null,null,-1),Pe={key:3},Je=["href"],Ne=(0,t._)("br",null,null,-1),Le={key:2},Me=(0,t._)("br",null,null,-1),Oe=(0,t._)("br",null,null,-1),Be=(0,t._)("br",null,null,-1),Ee=(0,t._)("br",null,null,-1),Ge=(0,t._)("br",null,null,-1),Re=(0,t._)("br",null,null,-1),Xe=(0,t._)("br",null,null,-1),Ye=(0,t.Uk)(" Создатель оффера: "),ea=["href"],aa=(0,t._)("br",null,null,-1),la=(0,t.Uk)(),ta=(0,t._)("br",null,null,-1),sa=(0,t.Uk)(" Создатель сделки: "),na=["href"],oa=(0,t._)("br",null,null,-1),ra={key:0},ia=["href"],ua={class:"text-bold"},da={key:1},pa=["href"],ca={class:"text-bold"},_a={key:2},ma=["href"],wa={key:3},fa=["href"],ga={class:"text-bold"},Ua={class:"full-height"},ba=(0,t._)("br",null,null,-1),xa={key:0},ya=["href"],va={class:"flex items-center"},ha={__name:"Trade",setup(e){const a=new Audio("notify.mp3"),ha=(0,r.yj)(),Sa=(0,r.tv)(),{EraChain:ka}=l(99407),za=(0,i.Q)(),Da=(0,d.T)(),qa=(0,s.iH)(null),Wa=(0,s.iH)(null),Ca=(0,s.iH)(null),$a=(0,s.iH)(null),Ha=(0,s.iH)(null),Qa=(0,s.iH)(null),Va=(0,s.iH)(null),Za=(0,s.iH)(!1),ja=(0,s.iH)(!1),Aa=(0,s.iH)([]),Fa=((0,s.iH)(0),(0,s.iH)(3e5)),Ia="7JXmTnbwuDnpqQ3NwxwzhfGgDk223j13eP",Ta=(0,t.Fl)((()=>Da.user)),Ka=(0,t.Fl)((()=>Da.trade)),Pa=(0,t.Fl)((()=>Ka.value.offer.is_sell?Ka.value.offer.user.wallet===Ta.value.wallet:Ka.value.opponent.wallet===Ta.value.wallet));async function Ja(e){let a=null;"money_receive"===e&&(a=Ka.value.offer.user.wallet!==Ta.value.wallet?Ka.value.offer.user.wallet:Ka.value.opponent.wallet),c.log(Ha.value),Za.value=!Za.value;let l=new FormData;l.set("action",e),Ha.value&&l.set("file",Ha.value),l.set("wallet",a),l.set("uid",Ka.value.UID),c.log(l);const t=await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/trade_action",data:l});t.data.success?(0,p.d)("positive",t.data.message):(0,p.d)("negative",t.data.message),Za.value=!Za.value,"delete"===e&&Sa.push({name:"p2p_index"})}async function Na(){qa.value=new WebSocket(`wss://xn--k1affs.xn--p1ai/ws/trade_chat/${Ka.value.UID}`);const e=await o.h.get(`/api/p2p/get_trade_chat?trade_uid=${Ka.value.UID}`);c.log(e.data),Aa.value=e.data.messages,qa.value.onmessage=async e=>{let l=JSON.parse(e.data)["message"];c.log("DATA",l.user.wallet);let t={id:l.id,message:l.message,file:l.file?l.file:null,createdAt:l.createdAt,user:{wallet:l.user.wallet,is_p2p_admin:l.user.is_p2p_admin,fio:l.user.fio}};Aa.value.push(t),Ma(),a.play()}}async function La(e){13===e.keyCode&&$a.value&&await Ba()}function Ma(){ja.value&&(Va.value.setScrollPosition("vertical",Fa.value,300),Fa.value=20*Math.floor(300))}function Oa(){Ma()}async function Ba(){Za.value=!Za.value;let e=new FormData;e.set("message",JSON.stringify($a.value)),e.set("file",Qa.value),e.set("wallet",Ta.value.wallet),e.set("trade_uid",Ka.value.UID),c.log(e);await(0,o.h)({method:"post",headers:{"content-type":"multipart/form-data"},url:"/api/p2p/add_message_in_trade_chat",data:e});$a.value=null,Qa.value=null,Za.value=!Za.value}async function Ea(){Za.value=!Za.value;const e=!0,a=await za.getKeyPair(),l=new ka.Type.KeyPair(a),t={assetKey:Ka.value.offer.asset.key,amount:Ka.value.asset_amount};c.log(l),c.log(t);const s=await u.era.tranRawSendAsset(l,t,Ia,"Депонирование баланса",`Сделка ${Ka.value.id} по офферу ${Ka.value.offer.id}`,!1,e);c.log(s),s.error?(0,p.d)("negative",s.error.message):(Wa.value=s.fee,Ca.value=s.raw,await Ga()),Za.value=!Za.value}async function Ga(){const e=await u.era.broadcast64(Ca.value);if(c.log(e),e.error)(0,p.d)("negative",e.message);else{(0,p.d)("positive","Баланс задепонирован");await o.h.post("/api/p2p/trade_action",{action:"freeze_money",uid:Ka.value.UID,tx:e.signature,wallet:Ta.value.wallet})}}return(0,t.wF)((async()=>{Da.current_trade_uid=ha.params.uid,await Da.get_user(),c.log("wallet",Ta.value),await Da.get_trade(),await Na(),Ka.value.status.is_need_help&&(ja.value=!0)})),(0,t.Jd)((async()=>{qa.value?qa.value.close():c.log("not connect")})),(e,a)=>{const l=(0,t.up)("page-header"),o=(0,t.up)("q-btn"),r=(0,t.up)("q-card-section"),i=(0,t.up)("q-card"),u=(0,t.up)("q-separator"),d=(0,t.up)("q-icon"),p=(0,t.up)("q-file"),c=(0,t.up)("q-chat-message"),ha=(0,t.up)("q-scroll-area"),Sa=(0,t.up)("q-input"),ka=(0,t.up)("q-dialog"),za=(0,t.up)("page-body"),Da=(0,t.up)("page"),qa=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(Da,null,{default:(0,t.w5)((()=>[(0,t.Wm)(za,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{route_name:"p2p_index"}),_,!(0,s.SU)(Ka).can_delete&&(0,s.SU)(Ka).status.is_default?((0,t.wg)(),(0,t.iD)("p",m," Отменить сделку можно "+(0,n.zw)(new Date((0,s.SU)(Ka).can_delete_time).toLocaleString()),1)):(0,t.kq)("",!0),(0,s.SU)(Ka).status.is_default&&(0,s.SU)(Ka).can_delete?((0,t.wg)(),(0,t.iD)("div",w,[(0,t.Wm)(o,{rounded:"",class:"full-width q-mb-md","no-caps":"",unelevated:"",color:"negative",onClick:a[0]||(a[0]=e=>Ja("delete")),label:"Отменить сделку"})])):(0,t.kq)("",!0),(0,t.Wm)(i,{flat:"",class:(0,n.C_)(["text-bold text-center q-mb-md text-white",`bg-${(0,s.SU)(Ka).status.color}`])},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t._)("span",null,"Статус сделки: "+(0,n.zw)((0,s.SU)(Ka).status.label)+" ",1)])),_:1})])),_:1},8,["class"]),(0,s.SU)(Ka).status.is_declined?((0,t.wg)(),(0,t.iD)("div",wa,[(0,s.SU)(Ka).tx_send?((0,t.wg)(),(0,t.iD)("a",{key:0,class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx_return}&lang=en`,target:"_blank"},[(0,t._)("span",ga,"Транзакция возврата "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,fa)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",f,[(0,s.SU)(Ka).status.is_need_help?((0,t.wg)(),(0,t.iD)("div",fe,[ge,(0,t._)("p",null,[Ue,(0,t._)("span",be,"#"+(0,n.zw)((0,s.SU)(Ka).id),1),xe,(0,t._)("span",ye,"#"+(0,n.zw)((0,s.SU)(Ka).offer.id),1),ve,(0,s.SU)(Ka).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",he,(0,n.zw)((0,s.SU)(Ka).opponent.wallet===(0,s.SU)(Ta).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",Se,(0,n.zw)((0,s.SU)(Ka).opponent.wallet===(0,s.SU)(Ta).wallet?"продажа":"покупка"),1)),(0,t._)("span",ke," "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1),ze,(0,t._)("span",De,(0,n.zw)((0,s.SU)(Ka).offer.course)+" руб",1),qe,(0,t._)("span",We,(0,n.zw)((0,s.SU)(Ka).fiat_amount)+" руб",1),Ce,$e,He,(0,t._)("span",Qe,(0,n.zw)((0,s.SU)(Ka).payment_type.label),1),Ve,(0,t._)("span",Ze,(0,n.zw)((0,s.SU)(Ka).payment_type.payment_info),1),je,Ae,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Pa)?"Покупатель":"Продавец"),1),Fe,(0,s.SU)(Ka).offer.user.wallet!==(0,s.SU)(Ta).wallet?((0,t.wg)(),(0,t.iD)("span",Ie,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).offer.user.fio),9,Te),Ke,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ka).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",Pe,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).opponent.fio),9,Je),Ne,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ka).opponent.total_trades),1)]))])])):((0,t.wg)(),(0,t.iD)("div",g,[(0,s.SU)(Ka).status.is_default||(0,s.SU)(Ka).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",U,[(0,t.Wm)(i,{flat:"",class:"bg-red-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[b,(0,t.Wm)(o,{label:"Нужна помощь админа",loading:Za.value,onClick:a[1]||(a[1]=e=>Ja("need_help")),class:"full-width","no-caps":"",unelevated:"",color:"yellow-4","text-color":"dark",rounded:""},null,8,["loading"])])),_:1})])),_:1})])),(0,s.SU)(Ka).status.is_finished?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("p",null,[y,(0,t._)("span",v,"#"+(0,n.zw)((0,s.SU)(Ka).id),1),h,(0,t._)("span",S,"#"+(0,n.zw)((0,s.SU)(Ka).offer.id),1),k,(0,s.SU)(Ka).offer.is_sell?((0,t.wg)(),(0,t.iD)("span",z,(0,n.zw)((0,s.SU)(Ka).opponent.wallet===(0,s.SU)(Ta).wallet?"покупка":"продажа"),1)):((0,t.wg)(),(0,t.iD)("span",D,(0,n.zw)((0,s.SU)(Ka).opponent.wallet===(0,s.SU)(Ta).wallet?"продажа":"покупка"),1)),(0,t._)("span",q," "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1),W,(0,t._)("span",C,(0,n.zw)((0,s.SU)(Ka).offer.course)+" руб",1),$,(0,t._)("span",H,(0,n.zw)((0,s.SU)(Ka).fiat_amount)+" руб",1),Q,V,Z,j,(0,t._)("span",null,(0,n.zw)((0,s.SU)(Pa)?"Покупатель":"Продавец"),1),A,(0,s.SU)(Ka).offer.user.wallet!==(0,s.SU)(Ta).wallet?((0,t.wg)(),(0,t.iD)("span",F,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).offer.user.fio),9,I),T,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ka).offer.user.total_trades),1)])):((0,t.wg)(),(0,t.iD)("span",K,[(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).opponent.fio),9,P),J,(0,t.Uk)(" Завершенных сделок "+(0,n.zw)((0,s.SU)(Ka).opponent.total_trades),1)]))]),(0,t.Wm)(u,{spaced:"lg"}),(0,s.SU)(Ka).status.is_default?((0,t.wg)(),(0,t.iD)("div",N,[(0,s.SU)(Ka).offer.user.wallet===(0,s.SU)(Ta).wallet?((0,t.wg)(),(0,t.iD)("div",L,[(0,t.Wm)(o,{loading:Za.value,label:"Согласен на сделку",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[2]||(a[2]=e=>Ja("trade_accept")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Ka).status.is_active?((0,t.wg)(),(0,t.iD)("div",M,[(0,s.SU)(Pa)?((0,t.wg)(),(0,t.iD)("div",O,[(0,t._)("p",null,[B,(0,t._)("span",E,(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1),G]),(0,t.Wm)(o,{loading:Za.value,label:`Задепонировать ${(0,s.SU)(Ka).asset_amount} ${(0,s.SU)(Ka).offer.asset.name}`,rounded:"",color:"positive",class:"full-width q-py-md",onClick:Ea,unelevated:"","no-caps":""},null,8,["loading","label"])])):((0,t.wg)(),(0,t.iD)("div",R,[X,(0,t._)("p",null,"Ожидание депонирования "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)]))])):(0,t.kq)("",!0),(0,s.SU)(Ka).status.is_money_freeze?((0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx}&lang=en`,target:"_blank"},[(0,t._)("span",ae,"Транзакция депонирования "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,ee)]),(0,s.SU)(Pa)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",le,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx}&lang=en`,target:"_blank"},[(0,t._)("span",se,"Транзакция депонирования "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,te)]),(0,t._)("p",ne,[oe,re,(0,t.Uk)(" Платежная система: "+(0,n.zw)((0,s.SU)(Ka).payment_type.label),1),ie,(0,t.Uk)(" Реквизиты: "+(0,n.zw)((0,s.SU)(Ka).payment_type.payment_info),1)]),ue,(0,t.Wm)(p,{dense:"",outlined:"",rounded:"",label:"Подверждение оплаты",modelValue:Ha.value,"onUpdate:modelValue":a[3]||(a[3]=e=>Ha.value=e),class:"q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"attach_file"})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{loading:Za.value,disable:!Ha.value,label:"Оплату произвел",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[4]||(a[4]=e=>Ja("money_send")),unelevated:"","no-caps":""},null,8,["loading","disable"])]))])):(0,t.kq)("",!0),(0,s.SU)(Ka).status.is_money_sent?((0,t.wg)(),(0,t.iD)("div",de,[(0,s.SU)(Pa)?((0,t.wg)(),(0,t.iD)("div",pe,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Ka).send_img,target:"_blank"},"Подтверждение оплаты",8,ce)]),(0,t.Wm)(o,{loading:Za.value,label:"Оплату получил",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[5]||(a[5]=e=>Ja("money_receive")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,s.SU)(Ka).status.is_money_recieve?((0,t.wg)(),(0,t.iD)("div",_e,[(0,t._)("p",null,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",we,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,me)])])):(0,t.kq)("",!0)]))])),(0,s.SU)(Ta).is_p2p_admin?((0,t.wg)(),(0,t.iD)("div",Le,[(0,t._)("p",null,[(0,t.Uk)(" Cделка № "+(0,n.zw)((0,s.SU)(Ka).id),1),Me,(0,t.Uk)(" Оффер № "+(0,n.zw)((0,s.SU)(Ka).offer.id),1),Oe,(0,t.Uk)(" Сумма сделки в рублях: "+(0,n.zw)((0,s.SU)(Ka).fiat_amount),1),Be,(0,t.Uk)(" Сумма сделки в активе: "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1),Ee,Ge,(0,t.Uk)(" Тип оффера: "+(0,n.zw)((0,s.SU)(Ka).offer.is_sell?"продажа":"покупка"),1),Re,Xe,Ye,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).offer.user.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).offer.user.wallet),9,ea),aa,la,ta,sa,(0,t._)("a",{href:`https://scan.rupay.pro/index/main.html?address=${(0,s.SU)(Ka).opponent.wallet}&lang=en`,style:{"text-decoration":"none","border-bottom":"1px dashed"},class:"text-primary text-bold text-caption",target:"_blank"},(0,n.zw)((0,s.SU)(Ka).opponent.wallet),9,na),oa]),(0,s.SU)(Ka).tx?((0,t.wg)(),(0,t.iD)("p",ra,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx}&lang=en`,target:"_blank"},[(0,t._)("span",ua,"Транзакция депонирования "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,ia)])):(0,t.kq)("",!0),(0,s.SU)(Ka).tx_send?((0,t.wg)(),(0,t.iD)("p",da,[(0,t._)("a",{class:"text-primary",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:`https://scan.rupay.pro/index/main.html?tx=${(0,s.SU)(Ka).tx_send}&lang=en`,target:"_blank"},[(0,t._)("span",ca,"Транзакция перевода "+(0,n.zw)((0,s.SU)(Ka).asset_amount)+" "+(0,n.zw)((0,s.SU)(Ka).offer.asset.name),1)],8,pa)])):(0,t.kq)("",!0),(0,s.SU)(Ka).send_img?((0,t.wg)(),(0,t.iD)("p",_a,[(0,t._)("a",{class:"text-primary text-bold",style:{"text-decoration":"none","border-bottom":"1px dashed"},href:(0,s.SU)(Ka).send_img,target:"_blank"},"Подтверждение оплаты",8,ma)])):(0,t.kq)("",!0),(0,t.Wm)(o,{loading:Za.value,label:"Отмена сделки с возвратом замороженного баланса",rounded:"",color:"positive",class:"full-width q-py-md",onClick:a[6]||(a[6]=e=>Ja("admin_stop")),unelevated:"","no-caps":""},null,8,["loading"])])):(0,t.kq)("",!0)])),(0,t.Wm)(ka,{modelValue:ja.value,"onUpdate:modelValue":a[10]||(a[10]=e=>ja.value=e),seamless:"",position:"bottom",onShow:Oa},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"full-width"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{class:"q-pt-xl"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(o,{class:"absolute-top-right z-max",flat:"",round:"",icon:"close"},null,512),[[qa]]),(0,t._)("div",Ua,[(0,t.Wm)(ha,{ref_key:"messages_wrapper",ref:Va,style:{height:"300px"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Aa.value,(e=>((0,t.wg)(),(0,t.j4)(c,{key:e.id,stamp:new Date(e.createdAt).toLocaleString(),name:e.user.fio,text:[e.message],sent:e.user.wallet===(0,s.SU)(Ta).wallet,"bg-color":e.user.is_p2p_admin?"red-7":e.user.wallet===(0,s.SU)(Ta).wallet?"green-3":"grey-3","text-color":e.user.is_p2p_admin?"white":""},{name:(0,t.w5)((()=>[(0,t._)("span",{class:(0,n.C_)(e.user.is_p2p_admin?"text-red-7":"")},(0,n.zw)(e.user.fio),3),ba,e.file?((0,t.wg)(),(0,t.iD)("span",xa,[(0,t._)("a",{class:"file_link",target:"_blank",href:e.file},"Прикрепленный файл",8,ya)])):(0,t.kq)("",!0)])),_:2},1032,["stamp","name","text","sent","bg-color","text-color"])))),128))])),_:1},512),(0,t._)("div",va,[(0,t.Wm)(d,{size:"24px",class:"cursor-pointer q-mr-lg",color:Qa.value?"positive":"grey-6",name:"attach_file"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{style:{position:"absolute",width:"42px",opacity:"0"},modelValue:Qa.value,"onUpdate:modelValue":a[7]||(a[7]=e=>Qa.value=e)},null,8,["modelValue"])])),_:1},8,["color"]),(0,t.Wm)(Sa,{outlined:"",rounded:"",class:"col-grow",loading:Za.value,disable:Za.value,onKeydown:La,modelValue:$a.value,"onUpdate:modelValue":a[9]||(a[9]=e=>$a.value=e),label:"Ваше сообщение"},{append:(0,t.w5)((()=>[(0,t.Wm)(o,{round:"",dense:"",disable:!$a.value,loading:Za.value,onClick:a[8]||(a[8]=e=>Ba()),flat:"",icon:"send"},null,8,["disable","loading"])])),_:1},8,["loading","disable","modelValue"])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(o,{class:"absolute-bottom-right",flat:"",size:"24px",round:"",icon:"las la-comments",onClick:a[11]||(a[11]=e=>ja.value=!0)},{default:(0,t.w5)((()=>[Aa.value.length>0?((0,t.wg)(),(0,t.j4)(d,{key:0,class:"absolute-top-right",size:"16px",color:"red",name:"priority_high"})):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1})}}};var Sa=l(24455),ka=l(44458),za=l(63190),Da=l(50926),qa=l(33837),Wa=l(22857),Ca=l(32074),$a=l(66663),Ha=l(396),Qa=l(13119),Va=l(62146),Za=l(69984),ja=l.n(Za);const Aa=ha,Fa=Aa;ja()(ha,"components",{QBtn:Sa.Z,QCard:ka.Z,QCardSection:za.Z,QSeparator:Da.Z,QFile:qa.Z,QIcon:Wa.Z,QDialog:Ca.Z,QScrollArea:$a.Z,QChatMessage:Ha.Z,QInput:Qa.Z}),ja()(ha,"directives",{ClosePopup:Va.Z})}}]);