"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[319],{14319:(e,a,l)=>{l.r(a),l.d(a,{default:()=>V});var t=l(59835),n=l(86970),s=l(60499),u=l(18910),c=l(32316),o=l(9991),r=l(87270),i=l(23459),d=l(46190),p=l(17779);const m={class:"flex column items-center justify-evenly full-height"},v={class:""},w={class:"text-bold text-negative text-center no-margin"},_={style:{"word-break":"break-all"},class:"qr-card-text no-margin"},y={key:0,class:"text-weight-bold text-center"},b={class:"qr-card-text"},g={class:"q-gutter-md"},h={class:"text-h6"},$={__name:"Receive",setup(e){const a=(0,u.yj)(),l=(0,o.QT)();let $=(0,s.iH)(""),x=(0,s.iH)(!1),f=(0,s.iH)(null);async function k(){await navigator.share({title:"",text:`${l.t("share_text")} ${S.value.name} - ${z.value}`})}async function q(){x.value=!1,await V(`${z.value}:${C.value}:${f.value}`)}async function W(){await(0,r.Q)(z.value,"positive",l.t("wallet_address_copy"))}const U=(0,i.Q)(),Q=(0,d.c)();let C=(0,s.iH)(0);const S=(0,t.Fl)((()=>U.assets.find((e=>e.key===C.value)))),z=(0,t.Fl)((()=>Q.addresses[Q.currentAddressIdx].address));let Z=(0,s.iH)("");const V=async e=>{try{Z.value=await c.toDataURL(e,{scale:8})}catch(a){p.error(a)}};return(0,t.wF)((async()=>{C.value=parseInt(a.query.asset),$.value=`${l.t("share_text1")} ${S.value.name} ${z.value}`,p.log(S.value),await V(`${z.value}:${C.value}:${a.query.amount}`)})),(e,a)=>{const l=(0,t.up)("page-header"),u=(0,t.up)("q-img"),c=(0,t.up)("q-card-section"),o=(0,t.up)("q-card"),r=(0,t.up)("q-btn"),i=(0,t.up)("q-input"),d=(0,t.up)("q-card-actions"),p=(0,t.up)("q-dialog"),$=(0,t.up)("page-body"),U=(0,t.up)("page"),Q=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(U,null,{default:(0,t.w5)((()=>[(0,t.Wm)($,{class:"q-px-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(l),(0,t._)("div",m,[(0,t._)("div",v,[(0,t.Wm)(o,{class:"qr-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t._)("p",w,(0,n.zw)(e.$t("receive_text")),1),(0,t.Wm)(u,{src:(0,s.SU)(Z)},null,8,["src"]),(0,t._)("p",_,(0,n.zw)((0,s.SU)(z)),1)])),_:1})])),_:1}),(0,s.SU)(f)?((0,t.wg)(),(0,t.iD)("p",y,"+"+(0,n.zw)((0,s.SU)(f))+" "+(0,n.zw)((0,s.SU)(S).name),1)):(0,t.kq)("",!0),(0,t._)("p",b,[(0,t.Uk)((0,n.zw)(e.$t("receive_text1"))+" ",1),(0,t._)("strong",null,(0,n.zw)((0,s.SU)(S).name),1),(0,t.Uk)(" "+(0,n.zw)(e.$t("receive_text2")),1)])]),(0,t._)("div",g,[(0,t.Wm)(r,{label:e.$t("copy_btn"),onClick:W,"no-caps":"",size:"12px",unelevated:"",stack:"",icon:"las la-copy"},null,8,["label"]),(0,t.Wm)(r,{label:e.$t("amount"),onClick:a[0]||(a[0]=e=>(0,s.dq)(x)?x.value=!0:x=!0),"no-caps":"",unelevated:"",stack:"",icon:"las la-tag"},null,8,["label"]),(0,t.Wm)(r,{label:e.$t("share"),"no-caps":"",stack:"",unelevated:"",icon:"las la-share-alt",onClick:k},null,8,["label"])])]),(0,t.Wm)(p,{modelValue:(0,s.SU)(x),"onUpdate:modelValue":a[2]||(a[2]=e=>(0,s.dq)(x)?x.value=e:x=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"bg-primary text-white"},{default:(0,t.w5)((()=>[(0,t._)("div",h,(0,n.zw)(e.$t("enter_amount")),1)])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(i,{rounded:"",dense:"",outlined:"",autofocus:"",modelValue:(0,s.SU)(f),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.dq)(f)?f.value=e:f=e),type:"number"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(d,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(r,{"no-caps":"",unelevated:"",color:"primary",outline:"",rounded:"",label:e.$t("cancel_btn")},null,8,["label"]),[[Q]]),(0,t.Wm)(r,{"no-caps":"",unelevated:"",color:"primary",disable:!(0,s.SU)(f),rounded:"",onClick:q,label:"OK"},null,8,["disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}};var x=l(44458),f=l(63190),k=l(70335),q=l(24455),W=l(32074),U=l(13119),Q=l(11821),C=l(62146),S=l(69984),z=l.n(S);const Z=$,V=Z;z()($,"components",{QCard:x.Z,QCardSection:f.Z,QImg:k.Z,QBtn:q.Z,QDialog:W.Z,QInput:U.Z,QCardActions:Q.Z}),z()($,"directives",{ClosePopup:C.Z})}}]);