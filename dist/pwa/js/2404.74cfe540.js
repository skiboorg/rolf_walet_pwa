"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[2404],{75008:(e,a,l)=>{l.d(a,{C:()=>u,d:()=>n});var t=l(13433),s=l(17779);const n=({seed:e,password:a})=>{const l={status:!0,seed:e},s=t.createCipher("aes192",a);return s.update(JSON.stringify(l),"utf8","hex")+s.final("hex")},u=({hash:e,password:a})=>{try{const l=t.createDecipher("aes192",a),s=l.update(e,"hex","utf8")+l.final("utf8"),n=JSON.parse(s);return!!n.status&&n.seed}catch(l){return s.log(l),!1}}},14895:(e,a,l)=>{l.d(a,{Z:()=>_});var t=l(59835),s=l(60499),n=l(43463),u=l(87270),d=l(75008),o=l(9991),i=l(17779);const c={props:["transactionInfo"]},r=Object.assign(c,{__name:"PinCodeModal",emits:["pincode_ок"],setup(e,{emit:a}){const l=(0,n.s)(),c=(0,o.QT)();function r(e){const t=localStorage.getItem("hash"),s=(0,d.C)({hash:t,password:e});i.log(s),s?(a("pincode_ок"),l.togglePinCodeModalVisible()):(0,u.d$)("negative",c.t("wrong_pin"))}return(e,a)=>{const n=(0,t.up)("pin-code"),u=(0,t.up)("q-btn"),d=(0,t.up)("q-card-section"),o=(0,t.up)("q-card"),i=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(i,{modelValue:(0,s.SU)(l).pinCodeModalVisible,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,s.SU)(l).pinCodeModalVisible=e),persistent:"",maximized:"","transition-show":"slide-left","transition-hide":"slide-right"},{default:(0,t.w5)((()=>[(0,t.Wm)(o,{class:"bg-white fullscreen"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"flex column items-center justify-center fullscreen"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{showDigits:!1,onPincode_ready:r}),(0,t.Wm)(u,{class:"q-mt-md",onClick:a[0]||(a[0]=e=>(0,s.SU)(l).togglePinCodeModalVisible()),"no-caps":"",unelevated:"",color:"negative",label:e.$t("cancel_btn")},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var m=l(32074),p=l(44458),w=l(63190),f=l(24455),g=l(69984),v=l.n(g);const h=r,_=h;v()(r,"components",{QDialog:m.Z,QCard:p.Z,QCardSection:w.Z,QBtn:f.Z})},92404:(e,a,l)=>{l.r(a),l.d(a,{default:()=>$});var t=l(59835),s=l(86970),n=l(60499),u=l(39981),d=l.n(u),o=l(87270),i=l(14895),c=l(43463),r=l(18910),m=l(46190),p=l(23459),w=l(98030);const f=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),g=(0,t._)("div",{class:"",style:{height:"50px"}},null,-1),v=(0,t.Uk)("Ваш баланс"),h=(0,t.Uk)("Кол-во отправляемого актива*"),_=(0,t.Uk)(" Подтверждение отправки актива "),b=(0,t.Uk)("Актив"),W=(0,t.Uk)("RUB"),k=(0,t.Uk)("Количество"),y=(0,t.Uk)("Комиссия транзакции"),C={key:0},x={__name:"NeuroClick",setup(e){const a="https://aunebo.com/k7hvr9uYY7fMZHEf",u=(0,c.s)(),{EraChain:x}=((0,r.tv)(),l(99407)),q=(0,m.c)(),U=(0,p.Q)();let Z=(0,n.iH)(!1);const Q=(0,n.iH)(!1),S=((0,n.iH)(0),(0,r.yj)());let V=(0,n.iH)(null);(0,t.bv)((async()=>{V.value=S.params.asset_key}));const j=(0,t.Fl)((()=>q.balances)),B=(0,t.Fl)((()=>q.addresses[q.currentAddressIdx].address));function D(){u.togglePinCodeModalVisible()}const H=(0,n.iH)({amount:"",address:"7HfxwmBo3wgcbvrDj4pjmM7BxUaYfDc6EW",title:"Пополнение баланса NeuroClick",message:"Пополнение баланса NeuroClick",encrypted:!1,fee:0,raw:0});function M(){H.value={amount:"",address:"7HfxwmBo3wgcbvrDj4pjmM7BxUaYfDc6EW",title:"Пополнение баланса NeuroClick",message:"Пополнение баланса NeuroClick",encrypted:!1,fee:0,raw:0}}async function P(){Q.value=!Q.value;const e=!0,a=await U.getKeyPair(),l=new x.Type.KeyPair(a),t={assetKey:"1643",amount:H.value.amount},s=await w.era.tranRawSendAsset(l,t,H.value.address,H.value.title,H.value.message,H.value.encrypted,e);s.error?(0,o.d$)("negative",s.error.message):(H.value.fee=s.fee,H.value.raw=s.raw),Q.value=!Q.value}async function N(){Q.value=!Q.value;const e=await w.era.broadcast64(H.value.raw);if(e.error)(0,o.d$)("negative",e.message),Q.value=!Q.value;else{(0,o.d$)("info","Транзакция создана"),Z.value=!1;let e={wallet:B.value,amount:H.value.amount};const l=(0,o.Gl)(e),t=await d().post(a,{data:l});t.data.success&&(0,o.d$)("positive","Баланс пополнен")}Q.value=!Q.value}return(e,a)=>{const l=(0,t.up)("page-header"),u=(0,t.up)("q-item-section"),d=(0,t.up)("q-item"),o=(0,t.up)("q-input"),c=(0,t.up)("q-separator"),r=(0,t.up)("btn"),m=(0,t.up)("q-list"),p=(0,t.up)("q-card-section"),w=(0,t.up)("page-body"),x=(0,t.up)("q-btn"),q=(0,t.up)("q-card-actions"),U=(0,t.up)("q-card"),S=(0,t.up)("q-dialog"),V=(0,t.up)("page"),B=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(V,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(l),f,g,(0,t.Wm)(p,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{side:"",class:"text-weight-bold text-dark"},{default:(0,t.w5)((()=>[v])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)((0,n.SU)(j)[1643][0][1])+" RUB",1)])),_:1})])),_:1}),(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"text-weight-medium text-dark"},{default:(0,t.w5)((()=>[h])),_:1})])),_:1}),(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o,{dense:"",outlined:"",type:"number",modelValue:H.value.amount,"onUpdate:modelValue":a[0]||(a[0]=e=>H.value.amount=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(c,{class:"q-my-md"}),(0,t.Wm)(r,{label:"Отправить",onClick:D,disabled:!H.value.amount||!H.value.address,outline:!1},null,8,["disabled"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(S,{modelValue:(0,n.SU)(Z),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(Z)?Z.value=e:Z=e),persistent:"","transition-show":"scale","transition-hide":"scale",onBeforeHide:M},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{class:"bg-white text-dark",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"text-weight-bold"},{default:(0,t.w5)((()=>[_])),_:1}),(0,t.Wm)(p,{class:"q-py-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{dense:"",separator:"",class:"q-mb-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,t.w5)((()=>[b])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[W])),_:1})])),_:1}),(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,t.w5)((()=>[k])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(H.value.amount)+" RUB",1)])),_:1})])),_:1}),(0,t.Wm)(d,{class:"no-padding"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{side:"",class:"text-weight-medium text-dark"},{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(u,{class:"text-caption"},{default:(0,t.w5)((()=>[H.value.fee>0?((0,t.wg)(),(0,t.iD)("span",C,"газ "+(0,s.zw)(H.value.fee)+" OLF",1)):(0,t.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(q,{class:"bg-white text-teal"},{default:(0,t.w5)((()=>[0===H.value.fee?((0,t.wg)(),(0,t.j4)(x,{key:0,label:"Расчет комиссии",loading:Q.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"info",onClick:P,outline:!1},null,8,["loading"])):((0,t.wg)(),(0,t.j4)(x,{key:1,label:"Подтвердить",loading:Q.value,class:"q-mb-sm full-width",unelevated:"","no-caps":"",color:"positive",onClick:N,outline:!1},null,8,["loading"])),(0,t.wy)((0,t.Wm)(x,{label:"Отменить","no-caps":"",color:"negative",class:"full-width",unelevated:"",outline:"",loading:Q.value},null,8,["loading"]),[[B]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)((0,n.SU)(i.Z),{onPincode_ок:a[2]||(a[2]=e=>(0,n.dq)(Z)?Z.value=!0:Z=!0)})])),_:1})}}};var q=l(63190),U=l(13246),Z=l(490),Q=l(76749),S=l(13119),V=l(50926),j=l(32074),B=l(44458),D=l(11821),H=l(24455),M=l(62146),P=l(69984),N=l.n(P);const I=x,$=I;N()(x,"components",{QCardSection:q.Z,QList:U.Z,QItem:Z.Z,QItemSection:Q.Z,QInput:S.Z,QSeparator:V.Z,QDialog:j.Z,QCard:B.Z,QCardActions:D.Z,QBtn:H.Z}),N()(x,"directives",{ClosePopup:M.Z})}}]);